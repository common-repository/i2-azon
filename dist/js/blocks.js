!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,r){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var o=a.apply(null,n);o&&e.push(o)}else if("object"===i)for(var l in n)r.call(n,l)&&n[l]&&e.push(l)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},,,,function(e,t,r){"use strict";r.r(t);var n=lodash,a=(n.some,n.isEmpty),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:props,t=e.imageUrl,r=e.size,n=void 0===r?"":r,a=e.ext,i=void 0===a?"jpg":a,l=e.style,c=e.className,s=e.onClick;return React.createElement("img",{className:c,style:l||null,onClick:function(){return s?s():null},src:o(t,n,i)})},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"jpg",n=t?"._SL"+t+"_":"";return"NOIMG"==e||"#"==e||a(e)?tfGlobal.homeUrl+"/wp-content/plugins/i2-azone/dist/images/no-image-available.png":"https://m.media-amazon.com/images/I/"+e+n+"."+(r||"jpg")},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e&&"#"!=e){var r=JSON.parse(e);return r&&r.length>t?r[t].URL:"NOIMG"}},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e&&"#"!=e){var r=JSON.parse(e);return r&&r.length>t?r[t].EXT:"jpg"}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:props,t=e.isLink,r=e.id,n=e.href,a=e.style,i=e.className,o=e.onClick,l=e.children,c=e.target,s=void 0===c?"_blank":c,u=e.rel,m=void 0===u?"nofollow noopener noreferrer":u,f=e.elm,d=void 0===f?"span":f;return t?React.createElement("a",{id:r,href:n,style:a,className:i,onClick:o,target:s,rel:m},l):wp.element.createElement(d,{id:r,style:a,className:i,onClick:o},l)},u=function(e){return tfGlobal.storeUrl+"/dp/"+e},m=function(e){return"1"==tfGlobal.add_proxy_link?tfGlobal.homeUrl+"/"+tfGlobal.proxy_link_slug+"/"+e:tfGlobal.storeUrl+"/dp/"+e+("1"==tfGlobal.donotAddLink?"":"/?tag="+tfGlobal.partnerTagForLink+"&linkCode=ogi&th=1&psc=1")},f=function(e){return tfGlobal.storeUrl+"/s?k="+e},d=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:props,r=t.color,n=t.bgColor,i=t.padding,o=t.border,l={};(a(r)||(l.color=r),a(n)||(l.backgroundColor=n),a(i)||(l.padding=i),a(o))||(1==o.useRadius&&(null===(e=o.radius)||void 0===e?void 0:e.val)>0&&(l.borderRadius=o.radius.val+o.radius.unit),1==o.use&&null!=o.color?l.border=o.size.val+o.size.unit+" solid "+o.color:l.borderColor=o.color);return l},g=[{value:"Featured",label:"Featured"},{value:"AvgCustomerReviews",label:"Avg Customer Reviews"},{value:"NewestArrivals",label:"Newest Arrivals"},{value:"Price:HighToLow",label:"Price: High To Low"},{value:"Price:LowToHigh",label:"Price: Low To High"},{value:"Relevance",label:"Relevance"}];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=lodash,x=C.has,w=C.get,S=C.map,k=C.remove,O=C.first,z=C.difference,_=C.dropWhile,N=C.includes,I=C.isEqual,P=C.chunk,j=wp.blockEditor.RichTextToolbarButton,A=wp.element,B=A.useState,T=A.useEffect,L=wp.richText,F=L.toggleFormat,U=L.applyFormat,D=(L.removeFormat,L.insert),H=L.create,W=wp.components,M=W.Flex,G=W.FlexItem,V=W.FlexBlock,X=W.ExternalLink,J=W.ToggleControl,K=W.Notice,$=(W.RangeControl,W.SelectControl),q=W.TextControl,Z=W.Button,Y=W.ButtonGroup,Q=W.Modal,ee=W.Spinner,te=W.Card,re=W.CardBody,ne=W.CardDivider,ae=W.CardFooter,ie=(W.CardHeader,W.CardMedia),oe=wp.apiFetch,le=wp.i18n.__,ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:props,t=e.item_ids,r=e.products,n=e.updateValue,a=e.formaterProps,o=e.isSingle,s=void 0!==o&&o,d=e.isFormater,p=void 0!==d&&d,b=B(!1),R=v(b,2),E=R[0],C=R[1],A=B({term:"",rating:4,minPrice:40,maxPrice:0,minSavingPercent:0,sortBy:"Featured",categoryId:"all"}),L=v(A,2),W=L[0],ce=L[1],se=B([{value:"all",label:"All Category"}]),ue=v(se,2),me=ue[0],fe=ue[1],de=B("all"),ge=v(de,2),pe=ge[0],he=(ge[1],B(!1)),be=v(he,2),ye=be[0],ve=be[1],Re=B(!0),Ee=v(Re,2),Ce=Ee[0],xe=Ee[1],we=B(!0),Se=v(we,2),ke=Se[0],Oe=Se[1],ze=B(!1),_e=v(ze,2),Ne=_e[0],Ie=_e[1],Pe=B(0),je=v(Pe,2),Ae=je[0],Be=je[1],Te=B(null),Le=v(Te,2),Fe=Le[0],Ue=Le[1],De=B(0),He=v(De,2),We=He[0],Me=He[1],Ge=B(null),Ve=v(Ge,2),Xe=Ve[0],Je=Ve[1],Ke=B(null),$e=v(Ke,2),qe=$e[0],Ze=$e[1];T((function(){W.term.length>0&&tt()}),[pe]),T((function(){nt()}),[t]),T((function(){Ne&&(!Ce||Ce&&W.term.length>2)&&Ye(0)}),[Ce]),T((function(){var e=localStorage.getItem("fromServer");xe("true"==e),Ie(!0)}),[]),T((function(){(W.term.length>0||!Ce)&&We>0&&Ye()}),[We,E]);var Ye=function(e){if(E&&!ye){Je(null);var t=0!=e?We:e,r=W.term.length>0?W.term:"NOTERM";ve(!0),oe({path:"/i2-azon/v1/search/"+r+"?si="+W.categoryId+"&page="+t+"&sortBy="+W.sortBy+"&sourceRemote="+Ce}).then((function(e){if(x(e,"Errors"))Je(w(e,"Errors[0].Message")),Ue(null),ve(!1);else{if(me.length<2){var t=w(e,"SearchResult.SearchRefinements.SearchIndex.Bins",[]),r=[{value:"all",label:"All Category"}];t.length>0&&(t.map((function(e){return r.push({value:e.Id,label:e.DisplayName})})),fe(r))}var n=w(e,"SearchResult.TotalResultCount",0);Qe(n),Ue(e),0==n&&(!Ce&&W.term.length>0?(Je(le("No result found, search on amazon ","themesfirst")),Ze(!0)):Je(le("No result found","themesfirst"))),ve(!1)}}))}},Qe=function(e){Be(e>=100?10:e>10?parseInt(e/10)+(e%10>0?1:0):0)},et=function(e){1==We&&1==e?(Me(0),Ye(0)):Me(e-1)},tt=function(){We>0&&Me(0),Ye(0)},rt=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(p){if(a.value.start==a.value.end){var o=U(H({text:i+" "}),{type:"themesfirst/amazonlinkformat",attributes:{href:m(r),target:ke?"_blank":"_self",rel:"nofollow noopener noreferrer"}},0,i.length);a.onChange(D(a.value,o))}else a.onChange(U(a.value,{type:"themesfirst/amazonlinkformat",attributes:{href:m(r),target:ke?"_blank":"_self",rel:"nofollow noopener noreferrer"}}));C(!1)}else"add"==e?n(s?{item_ids:[r]}:{item_ids:[].concat(y(t),[r])}):"delete"==e?it(r):(k(t,(function(e){return I(e,r)})),n({item_ids:y(t)}))},nt=function(){var e=S(r,"asin"),a=z(e,t),i=z(t,e);if(a.length>0){var o=_(r,(function(e){return N(a,e.asin)}));n({products:o})}i.length>0&&at(i.join(","))},at=function(e){oe({path:"/i2-azon/v1/contents/"+e}).then((function(e){if(null!=e){var t=s?[]:y(r);e.map((function(e){var r=e;r.active_image_Index=0;var n=JSON.parse(e.image_ids);n.length>0&&(delete r.image_ids,r.image=n[0]),t.push(r)})),n({products:t})}}))},it=function(e){oe({path:"/i2-azon/v1/delete/"+e}).then((function(r){1==r?(k(t,(function(t){return I(t,e)})),n({item_ids:y(t)}),Ye(We)):Je(le("Error on removing product, please try again","themefirst"))}))},ot=function(e){localStorage.setItem("fromServer",e),Ue(null),xe(e)};return React.createElement(React.Fragment,null,p?React.createElement(React.Fragment,null,React.createElement(j,{icon:a.isActive?"editor-unlink":"admin-links",title:le("Amazon link","themesfirst"),onClick:function(){a.isActive?a.onChange(F(a.value,{type:"themesfirst/amazonlinkformat"})):C(!0)},group:"primary",isActive:a.isActive})," "):React.createElement(M,null,React.createElement("span",null,React.createElement(Z,{variant:"outlined",isPrimary:!0,onClick:function(e){return C(!0)}},le("Search Products","themesfirst"))),t.length>0&&React.createElement(Z,{icon:"image-rotate",isSecondary:!0,size:"24",isBusy:ye,variant:"outlined",onClick:nt,disabled:0==z(t,S(r,"asin")).length})),E&&React.createElement(Q,{open:E,title:le("Search Products","themesfirst"),onRequestClose:function(){return C(!1)},"aria-labelledby":"form-dialog-title",style:{width:"90%",maxWidth:"1080px"}},React.createElement("figure",{style:{minHeight:"400px"}},React.createElement(M,{className:"tf-top-pagination-wrapper"},React.createElement(G,null,React.createElement(M,null,React.createElement(G,null,React.createElement(J,{label:"Use API?",help:le(Ce?"Active Server Amazon API":"Active Server Local DB","themesfirst"),checked:Ce,onChange:function(){return ot(!Ce)}})),p&&React.createElement(G,null,React.createElement(J,{label:"Open link in new tab?",help:le(ke?"link will open in new tab":"link will open in same tab","themesfirst"),checked:ke,onChange:function(){return Oe(!ke)}})))),Ae>1&&React.createElement(Y,{style:{marginLeft:"auto"}},We>0&&React.createElement(Z,{onClick:function(){return et(We)},icon:"arrow-left-alt2"},le("Prev","themesfirst")),React.createElement(Z,{isPrimary:!0,disabled:!0,icon:"editor-kitchensink"},"   ",We+1," ",le("of","themesfirst")," ",Ae),We<Ae-1&&React.createElement(Z,{onClick:function(){return et(We+2)},icon:"arrow-right-alt2",iconPosition:"right"},le("Next","themesfirst")))),ye&&React.createElement(M,{justify:"center"},React.createElement(V,{style:{minHeight:"50px",textAlign:"center"}},React.createElement(ee,null))),Xe&&React.createElement(K,{status:"error",onRemove:function(){Je(null),Ze(null)}},Xe," ",qe&&React.createElement(X,{href:f(W.term)},W.term)),React.createElement("div",{style:{marginTop:"15px",marginBottom:"15px"}},React.createElement(M,{className:"tf-flex-sf-container"},React.createElement(G,null,React.createElement(q,{label:le("Search Terms","themesfirst"),value:W.term,onChange:function(e){return ce(h(h({},W),{},{term:e}))}})),React.createElement(G,null,Ce&&React.createElement($,{label:le("Sort By","themesfirst"),value:W.sortBy,onChange:function(e){ce(h(h({},W),{},{sortBy:e}))},options:g})),React.createElement(G,null,React.createElement(Z,{icon:"search",isBusy:ye,className:"tf-full-button",style:{marginBottom:"8px"},disabled:Ce&&W.term.length<3,isPrimary:!0,onClick:function(){return tt()}},le("Search","themesfirst"))))),Fe&&Fe.SearchResult.Items.length>0&&P(Fe.SearchResult.Items,3).map((function(e){return React.createElement(M,{justify:"center",style:{marginBottom:"10px"}},e.map((function(e){return React.createElement(G,{style:{maxWidth:"33%",alignSelf:"flex-start"}},Ce?React.createElement(te,{className:"tf-card"},-1==t.indexOf(w(e,"ASIN"))?React.createElement(Z,{icon:"plus",isSecondary:!0,size:"24",onClick:function(t){return rt("add",w(e,"ASIN"),w(e,"ItemInfo.Title.DisplayValue","No Title"))},className:"tf-card-button tf-button-add"}):React.createElement(Z,{icon:"minus",isSecondary:!0,size:"24",onClick:function(t){return rt("remove",w(e,"ASIN"))},className:"tf-card-button tf-button-minus"}),React.createElement(ie,{className:"tf-card-image"},React.createElement("img",{src:w(e,"Images.Primary.Large.URL","#")})),React.createElement(re,{size:"small"},React.createElement("strong",{style:{marginTop:0,display:"block"}},"ASIN :",w(e,"ASIN","no asin")),w(e,"ItemInfo.Title.DisplayValue","No Title"),React.createElement(ne,{className:"tf-card-devider"}),O(e.BrowseNodeInfo.BrowseNodes).ContextFreeName),React.createElement(ae,{size:"small"},React.createElement(G,null,x(e,"Offers.Listings[0].SavingBasis.DisplayAmount")?React.createElement("span",null,React.createElement("s",null,w(e,"Offers.Listings[0].SavingBasis.DisplayAmount"))," "," "," "):"",React.createElement("b",null,w(e,"Offers.Listings[0].Price.DisplayAmount","No Price"))),React.createElement(G,{style:{marginLeft:"auto"}},React.createElement(X,{href:w(e,"DetailPageURL")})))):React.createElement(te,{className:"tf-card"},-1==t.indexOf(w(e,"asin"))?React.createElement(Z,{icon:"plus",isSecondary:!0,size:"24",onClick:function(t){return rt("add",w(e,"asin"),w(e,"title",""))},className:"tf-card-button tf-button-add"}):React.createElement(Z,{icon:"minus",isSecondary:!0,size:"24",onClick:function(t){return rt("remove",w(e,"asin"))},className:"tf-card-button tf-button-minus"}),React.createElement(Z,{icon:"trash",isSecondary:!0,size:"24",onClick:function(t){return rt("delete",w(e,"asin"))},className:"tf-card-button tf-button-minus tf-button-trash"}),React.createElement(ie,{className:"tf-card-image"},React.createElement(i,{imageUrl:l(w(e,"image_ids","#")),ext:c(w(e,"image_ids","#"))})),React.createElement(re,{size:"small"},React.createElement("strong",{style:{marginTop:0,display:"block"}},"ASIN :",w(e,"asin","no asin")),w(e,"title","No Title")),React.createElement(ae,{size:"small"},React.createElement(G,null,x(e,"saving")?React.createElement("span",null,React.createElement("s",null,w(e,"saving")),"  "," "):"",React.createElement("b",null,w(e,"display_price",le("No Price","themesfirst")))),React.createElement(G,{style:{marginLeft:"auto"}},React.createElement(X,{href:u(w(e,"asin"))})))))})))})))))};(0,wp.richText.registerFormatType)("themesfirst/amazonlinkformat",{title:(0,wp.i18n.__)("Amazon link (i2-azon)","themesfirst"),tagName:"a",className:"i2-azon-amazon-link",edit:function(e){return React.createElement(ce,{isFormater:!0,formaterProps:e,item_ids:[]})}});var se=wp.i18n.__,ue=(se("Text"),se("Number"),se("Button"),se("Yes/No"),se("Image"),se("Rating"),se("Link"),se("Flat"),se("3D"),se("Amazon"),se("Custom"),se("Highlighter","themes-first"),se("","themes-first"),se("Thumbnail","themes-first"),se("Thumbnail","themes-first"),se("Title","themes-first"),se("Product Name","themes-first"),se("ASIN","themes-first"),se("ASIN","themes-first"),se("Rating","themes-first"),se("Rating","themes-first"),se("Reviews","themes-first"),se("Reviews","themes-first"),se("Manufacturer","themes-first"),se("Manufacturer","themes-first"),se("Brand","themes-first"),se("Brand","themes-first"),se("Model","themes-first"),se("Model","themes-first"),se("Product Group","themes-first"),se("Group","themes-first"),se("Amazon Fulfilled","themes-first"),se("Amazon Fulfilled","themes-first"),se("Prime Benefits","themes-first"),se("Prime Benefits","themes-first"),se("Price","themes-first"),se("Price","themes-first"),se("Saving","themes-first"),se("","themes-first"),se("Button","themes-first"),se("View On Amazon","themes-first"),se("Highlighter","themes-first"),se("","themes-first"),se("Thumbnail","themes-first"),se("Thumbnail","themes-first"),se("Title","themes-first"),se("Product Name","themes-first"),se("ASIN","themes-first"),se("ASIN","themes-first"),se("Price","themes-first"),se("Price","themes-first"),se("Saving","themes-first"),se("","themes-first"),se("Button","themes-first"),se("View On Amazon","themes-first"),se("Please Select","themes-first"),se("Amazon","themes-first"),se("Rounded","themes-first"),se("3D","themes-first"),se("Link","themes-first"),se("Please Select","themes-first"),se("Small","themes-first"),se("Medium","themes-first"),se("Big","themes-first"),se("Larg","themes-first"),se("Please Select","themes-first"),se("Middle","themes-first"),se("Top","themes-first"),se("Bottom","themes-first"),se("Right","themes-first"),se("Left","themes-first"),[{name:se("Small"),slug:"small",size:12},{name:se("Medium"),slug:"medium",size:18},{name:se("Larg"),slug:"larg",size:24},{name:se("Extra"),slug:"extra",size:36}]),me=r(0),fe=r.n(me);function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pe=lodash.chunk,he=wp.components,be=he.Flex,ye=he.FlexItem,ve=he.FlexBlock,Re=he.Button,Ee=he.Modal,Ce=he.Spinner,xe=wp.element,we=xe.useState,Se=xe.useEffect,ke=wp.i18n.__,Oe=wp.apiFetch,ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:props,t=e.image,r=e.prodPos,n=e.updateImages,a=e.asin,o=e.size,l=we(!1),c=de(l,2),s=c[0],u=c[1],m=we(!1),f=de(m,2),d=f[0],g=f[1],p=we([]),h=de(p,2),b=h[0],y=h[1];return Se((function(){s&&(g(!0),Oe({path:"/i2-azon/v1/images/"+a}).then((function(e){y(JSON.parse(e)),g(!1)})))}),[s]),React.createElement("figure",null,React.createElement("figure",{style:{position:"relative"}},React.createElement(Re,{icon:"images-alt2",isPrimary:!0,size:"24","aria-label":"remove",onClick:function(){return u(!0)},style:{position:"absolute",top:"15px",left:"15px"}}),t&&React.createElement(i,{imageUrl:t.URL,ext:t.EXT?t.EXT:"jpg",size:o})),s?React.createElement(Ee,{open:s,title:ke("Select Image","themesfirst"),onRequestClose:function(e){return u(!1)},"aria-labelledby":"form-dialog-title"},React.createElement("div",{style:{minHeight:"400px"}},d&&React.createElement(be,{justify:"center"},React.createElement(ve,{style:{minHeight:"100px",textAlign:"center"}},React.createElement(Ce,null))),b.length>0&&pe(b,3).map((function(e){return React.createElement(be,{justify:"center"},e.map((function(e){return React.createElement(ye,{style:{maxWidth:"33%"}},React.createElement(i,{onClick:function(){return n(r,e)},className:fe()("tf-mdl-image",{"tf-mdl-image-active":t&&e.URL==t.URL}),imageUrl:e.URL,size:"400",ext:e.EXT?e.EXT:"jpg"}))})))})))):null)};function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){Ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pe=wp.components,je=Pe.Flex,Ae=Pe.FlexItem,Be=Pe.FlexBlock,Te=Pe.RangeControl,Le=Pe.Button,Fe=Pe.ButtonGroup,Ue=wp.i18n.__,De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:props,t=e.field,r=e.onChange,n=t.size,a=t.unit,i=function(){return"%"==a?100:500},o=function(){return"%"==a?5:50};return React.createElement(React.Fragment,null,React.createElement(je,null,React.createElement(Ae,null,Ue("Width","themesfirst")),React.createElement(Be,{className:"tf-text-align-end"},React.createElement(Fe,{size:"small","aria-label":"small outlined button group",style:{marginLeft:"auto"}},React.createElement(Le,{onClick:function(){return r(Ne(Ne({},t),{},{unit:"%",size:60}))},isPrimary:"%"==a,isSmall:!0},"%"),React.createElement(Le,{onClick:function(){return r(Ne(Ne({},t),{},{unit:"px",size:300}))},isPrimary:"%"!=a,isSmall:!0},"px")))),React.createElement(je,null,React.createElement(Be,null,React.createElement(Te,{label:n+a,withInputField:!0,value:n,onChange:function(e){return r(Ne(Ne({},t),{},{size:e}))},min:o(),step:1,max:i()}))))};function He(e){return function(e){if(Array.isArray(e))return We(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return We(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Me=wp.i18n.__,Ge=wp.blocks.registerBlockType,Ve=wp.components,Xe=Ve.Button,Je=Ve.FontSizePicker,Ke=Ve.TextControl,$e=Ve.ToggleControl,qe=Ve.PanelBody,Ze=wp.blockEditor,Ye=Ze.InspectorControls,Qe=Ze.MediaUpload,et=Ze.MediaUploadCheck,tt=Ze.RichText,rt=Ze.PanelColorSettings,nt=wp.element,at=(nt.useEffect,nt.useState,lodash.has);function it(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?it(Object(r),!0).forEach((function(t){lt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ge("themesfirst/i2-azon-image",{title:Me("Image i2AZON","themesfirst"),icon:"format-image",category:"themesfirst",keywords:[Me("Image","themesfirst"),Me("Amazon Image","themesfirst"),Me("i2 azon","themesfirst")],attributes:{item_ids:{type:"array",default:[]},products:{type:"array",default:[]},block_id:{type:"string",default:""},link:{type:"string",default:""},alt_text:{type:"string",default:""},text:{type:"string",default:Me("CLICK HERE","themesfirst")},showText:{type:"boolean",default:!0},textOnTop:{type:"boolean",default:!1},useBorder:{type:"boolean",default:!1},borderColor:{default:"#231f20"},paddingSize:{type:"string"},fontSize:{type:"number",default:18},color:{default:"#ffffff"},bgColor:{default:"#231f20"},useLink:{type:"boolean",default:!0},customLink:{type:"string",default:""},width:{type:"object",default:{size:400,unit:"px",full:780}}},supports:{align:!0},edit:function(e){e.attributes;var t=e.clientId,r=e.attributes,n=r.item_ids,a=r.width,i=r.block_id,o=r.useLink,l=r.customLink,c=r.alt_text,s=(r.paddingSize,r.useBorder),u=r.borderColor,m=(r.active_image_index,r.products),f=(r.custom_img,r.link,r.text),d=r.color,g=r.bgColor,p=r.fontSize,h=r.showText,b=r.textOnTop,y=e.setAttributes;""!=i&&null!=i||y({block_id:t});var v=function(e){if(at(e,"item_ids"))y(e);else if(1==e.products.length&&(y({products:[{asin:e.products[0].asin,title:e.products[0].title,image:e.products[0].image}]}),""==c)){var t=e.products[0].title;if(t.length>70){var r=t.lastIndexOf(" ",70);t=t.substring(0,r)}y({alt_text:t})}},R=function(e,t){var r=He(m);r[e].image=t,y({products:r})};return React.createElement(React.Fragment,null,React.createElement(Ye,null,React.createElement(qe,{title:Me("Common","themesfirst"),initialOpen:!0},React.createElement(ce,{item_ids:n,products:m,updateValue:v,isSingle:!0}),React.createElement("hr",null),n.length>0&&React.createElement("h4",null,Me("ASIN","themesfirst")," : ",n[0]," "),React.createElement(De,{field:a,onChange:function(e){return y({width:e})}}),React.createElement("hr",null),React.createElement($e,{label:Me("Use Link?","themesfirst"),checked:o,onChange:function(){return y({useLink:!o})}}),o&&React.createElement(React.Fragment,null," ",React.createElement(Ke,{label:Me("Alt Text","themesfirst"),help:Me("Image alt text","themesfirst"),value:c,onChange:function(e){return y({alt_text:e})}}),React.createElement(Ke,{label:Me("URL (By default amazon link)","themesfirst"),help:Me("Optional (custom url should start with http)","themesfirst"),value:l,onChange:function(e){return y({customLink:e})}})),React.createElement($e,{label:"Show Text?",checked:h,onChange:function(){return y({showText:!h})}}),h&&React.createElement($e,{label:"Text On Top?",help:b?"Text on top.":"Text on bottom",checked:b,onChange:function(){return y({textOnTop:!b})}}),React.createElement($e,{label:Me("Use Border?","themesfirst"),checked:s,onChange:function(){return y({useBorder:!s})}})),React.createElement(qe,{title:Me("Font Size","themesfirst"),initialOpen:!1},React.createElement(Je,{fontSizes:ue,value:p,fallbackFontSize:18,withSlider:!0,onChange:function(e){y({fontSize:e||18})}})),React.createElement(rt,{title:Me("Color Settings","themesfirst"),initialOpen:!1,colorSettings:s?[{value:g,onChange:function(e){return y({bgColor:void 0!==e?e:"#231f20"})},label:Me("Background Color","themesfirst")},{value:d,onChange:function(e){return y({color:void 0!==e?e:"#ffffff"})},label:Me("Text Color","themesfirst")},{value:u,onChange:function(e){return y({borderColor:void 0!==e?e:"#231f20"})},label:Me("Border Color","themesfirst")}]:[{value:g,onChange:function(e){return y({bgColor:void 0!==e?e:"#231f20"})},label:Me("Background Color","themesfirst")},{value:d,onChange:function(e){return y({color:void 0!==e?e:"#ffffff"})},label:Me("Text Color","themesfirst")}]})),React.createElement("figure",{className:"tf-i2 tf-i2-azon-image mywp-block-image",style:{position:"relative",width:"%a"==a.unit?"100%":a.size+a.unit}},React.createElement("div",{className:"components-resizable-box__container has-show-handle",style:{position:"relative",boxSizing:"border-box",width:"100%"}},0==m.length&&React.createElement(ce,{item_ids:n,products:m,updateValue:v,isSingle:!0}),m.map((function(e,t){return React.createElement("div",{className:(s?"has-border ":"")+"tf-amz-image-wrapper",style:{flexDirection:b?"column-reverse":"column",borderColor:u}},!at(e,"custom_img.mediaId")&&React.createElement(ze,{image:e.image,asin:e.asin,prodPos:t,updateImages:R,size:"px"!=a.unit?null:a.size}),React.createElement("div",{className:null==e.custom_img||""==e.custom_img?"no-custom-image":"editor-post-featured-image"},null!=e.custom_img&&React.createElement("img",{src:e.custom_img.mediaUrl}),React.createElement(et,null,React.createElement(Qe,{onSelect:function(e){return function(e,t){var r=He(m);r[e].custom_img=t,y({products:r})}(t,{mediaId:e.id,mediaUrl:e.url})},value:null!=e.custom_img&&""!=e.custom_img?e.custom_img.mediaId:"",allowedTypes:["image"],render:function(e){var t=e.open;return React.createElement(Xe,{icon:"wordpress",isSecondary:!0,size:"24",className:"no-custom-image",onClick:t})}})),at(e,"custom_img.mediaId")&&React.createElement(Xe,{icon:"trash",className:"clear-custom-image",iconSize:"24",label:"Delete",onClick:function(){return function(e){if(at(m[e],"custom_img")){var t=He(m);delete t[e].custom_img,y({products:t})}}(t)}})),h&&React.createElement("div",{style:{clear:"both",marginTop:"0",backgroundColor:g,color:d,textAlign:"center"}},React.createElement(tt,{onChange:function(e){return y({text:e})},tagName:"p",value:f,style:{margin:0,fontSize:p+"px",lineHeight:2*p+"px"}})))})))))},save:function(e){var t=e.attributes,r=t.block_id,n=t.width,a=t.useLink,i=t.alt_text,l=t.text,c=t.bgColor,u=t.color,m=t.fontSize,f=t.useBorder,d=t.products,g=t.textOnTop,p=t.showText,h=t.borderColor;return d&&d.length>0&&React.createElement(s,{isLink:a,elm:"div",id:"tf-block-image-".concat(r),className:"tf-block-".concat(r," tf-amz-image-block-wrapper"),href:"##AFFILIATELINK##",target:"_blank",rel:"nofollow noopener noreferrer",style:{width:n.size+n.unit}},React.createElement("div",{className:(f?"has-border ":"")+"tf-amz-image-wrapper",style:{flexDirection:g?"column-reverse":"column",borderColor:h}},React.createElement("div",{className:"tf-featured-media"},1==d.length&&!at(d[0],"custom_img.mediaId")&&React.createElement("img",{src:o(d[0].image.URL,"px"==n.unit&&n.size<=d[0].image.Width?n.size:"",d[0].image.EXT),alt:i,height:d[0].image.Height,width:d[0].image.Width}),1==d.length&&at(d[0],"custom_img.mediaId")&&React.createElement("img",{src:d[0].custom_img.mediaUrl,alt:i})),p&&React.createElement("div",{style:{clear:"both",marginTop:"0",backgroundColor:c,textAlign:"center"}},React.createElement("p",{style:{margin:0,fontSize:m+"px",color:u,lineHeight:2*m+"px"}},l))))}});var ct=lodash,st=ct.isArray,ut=ct.map,mt=wp.components,ft=mt.RangeControl,dt=mt.Flex,gt=mt.ButtonGroup,pt=mt.Button,ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:props,t=e.field,r=e.max,n=e.min,a=e.label,i=e.units,o=e.onChange,l=t.val,c=t.unit;return React.createElement(React.Fragment,null,React.createElement(dt,{style:{marginTop:"8px",marginBottom:"8px"}},React.createElement("div",null,a),React.createElement(gt,null,i&&st(i)&&ut(i,(function(e){return React.createElement(pt,{isSmall:!0,isPrimary:c==e,onClick:function(){return o(ot(ot({},t),{},{unit:e}))}},e)})))),React.createElement(ft,{value:l,onChange:function(e){return o(ot(ot({},t),{},{val:e}))},min:n,max:r}))};function bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(r),!0).forEach((function(t){vt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rt(e){return function(e){if(Array.isArray(e))return Et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Et(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Et(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ct=wp.i18n.__,xt=wp.blocks.registerBlockType,wt=(wp.element.createElement,wp.components),St=wt.Button,kt=wt.ButtonGroup,Ot=wt.Dashicon,zt=wt.Flex,_t=wt.FlexItem,Nt=wt.FlexBlock,It=wt.RangeControl,Pt=wt.TextControl,jt=wt.ToggleControl,At=wt.CheckboxControl,Bt=wt.PanelBody,Tt=wp.blockEditor,Lt=Tt.InspectorControls,Ft=Tt.MediaUpload,Ut=Tt.MediaUploadCheck,Dt=Tt.RichText,Ht=Tt.PanelColorSettings,Wt=wp.element.Fragment,Mt=lodash.has;xt("themesfirst/i2-azon-product-box",{title:Ct("Product Box i2AZON","themesfirst"),icon:"embed-photo",category:"themesfirst",keywords:[Ct("Product Box","themesfirst"),Ct("Amazon Product Box","themesfirst"),Ct("i2 azon","themesfirst")],attributes:{item_ids:{type:"array",default:[]},products:{type:"array",default:[]},block_id:{type:"string",default:""},useBorder:{type:"boolean",default:!1},borderColor:{type:"string",default:"#231f20"},paddingSize:{type:"string"},fontSize:{type:"number",default:18},color:{type:"string",default:"#222222"},textColor:{type:"string",default:"#222222"},bgColor:{type:"string",default:"#fff"},useLink:{type:"boolean",default:!0},hideButton:{type:"boolean",default:!1},customLink:{type:"string",default:""},btnText:{type:"string",default:Ct("View On Amazon","themesfirst")},boxBorder:{type:"object",default:{use:!0,color:"#222222",size:{unit:"px",val:1},useRadius:!0,radius:{unit:"px",val:4}}},btnBorder:{type:"object",default:{use:!0,color:"#222222",size:{unit:"px",val:1},useRadius:!0,radius:{unit:"px",val:4}}},icon:{type:"object",default:{cssClass:"icofont-brand-amazon",size:"icofont-md",color:"",bgColor:"transprent"}},imgWrapperWidth:{type:"number",default:25},imgWidth:{type:"number",default:300},width:{type:"object",default:{size:400,unit:"px",full:780}},isHorizontal:{type:"boolean",default:!1}},edit:function(e){e.attributes;var t,r,n,a,i,o=e.clientId,l=e.attributes,c=l.item_ids,s=l.width,u=l.imgWidth,m=l.imgWrapperWidth,f=l.hideButton,g=l.isHorizontal,p=l.btnBorder,h=l.textColor,b=l.boxBorder,y=l.block_id,v=l.icon,R=l.btnText,E=l.useLink,C=l.customLink,x=(l.paddingSize,l.useBorder),w=(l.borderColor,l.products),S=(l.custom_img,l.link,l.text,l.color),k=l.bgColor,O=e.setAttributes;""!=y&&null!=y||O({block_id:o});var z=function(e){if(Mt(e,"item_ids"))O(e);else if(1==e.products.length){var t=JSON.parse(e.products[0].features).map((function(e){return function(e){return e.replace(/\\/g,"")}(e)}));O({products:[{asin:e.products[0].asin,title:e.products[0].title,description:"",features:"<li>"+t.join("</li><li>")+"</li>",dbFeatures:t,image:e.products[0].image}]})}},_=function(e,t){var r=Rt(w);r[e].image=t,O({products:r})},N=function(e,t,r,n){var a=Rt(w);n>=0?a[t][r][n]=e:a[t][r]=e,O({products:a})};return React.createElement(React.Fragment,null,React.createElement(Lt,null,React.createElement(Bt,{title:Ct("Common","themesfirst"),initialOpen:!0},React.createElement(ce,{item_ids:c,products:w,updateValue:z,isSingle:!0}),React.createElement("hr",null),c.length>0&&React.createElement("h4",null,Ct("ASIN","themesfirst")," : ",c[0]," "),w&&w.length>0&&React.createElement(zt,null,React.createElement(Nt,null,"Features"),React.createElement(_t,{style:{alignSelf:"flex-end"}},React.createElement(St,{style:{marginBottom:"12px",height:"30px"},isSecondary:!0,onClick:function(){return function(){if(w&&w.length>0){var e=Rt(w);e[0].features="<li>"+e[0].dbFeatures.join("</li><li>")+"</li>",O({products:e})}}()}}," ",Ct("Reset","themesfirst")+" ("+(null===(t=w[0].dbFeatures)||void 0===t?void 0:t.length)+")"," "))),React.createElement("hr",null),React.createElement(kt,{style:{textAlign:"right",width:"100%",marginBottom:"10px"}},React.createElement(St,{isPrimary:g,isSmall:!0,isSecondary:!g,onClick:function(){return O({isHorizontal:!0})}},React.createElement(Ot,{icon:"menu-alt"}),"   ",Ct("Horizontal","themesfirst")),React.createElement(St,{isPrimary:!g,isSmall:!0,isSecondary:g,onClick:function(){return O({isHorizontal:!1})}},React.createElement(Ot,{icon:"columns"}),"   ",Ct("Verticle","themesfirst"))),g&&React.createElement(It,{label:"Image Width ("+u+"px)",withInputField:!0,allowReset:!1,value:u,onChange:function(e){return O({imgWidth:e})},min:100,step:10,max:(null===(r=w[0])||void 0===r||null===(n=r.image)||void 0===n?void 0:n.Width)>200?null===(a=w[0])||void 0===a||null===(i=a.image)||void 0===i?void 0:i.Width:500}),!g&&React.createElement(It,{label:"Image Area ("+m+"%)",withInputField:!0,allowReset:!1,value:m,onChange:function(e){return O({imgWrapperWidth:e})},min:15,step:1,max:50}),React.createElement("hr",null),React.createElement(jt,{label:Ct("Without Links?","themesfirst"),checked:!E,onChange:function(){return O({useLink:!E})}}),E&&React.createElement(Pt,{label:Ct("URL (By default amazon link)","themesfirst"),help:Ct("Optional (custom url should start with http)","themesfirst"),value:C,onChange:function(e){return O({customLink:e})}}),E&&React.createElement(jt,{label:Ct("Hide Button?","themesfirst"),checked:f,onChange:function(){return O({hideButton:!f})}})),React.createElement(Bt,{title:Ct("Border Setting"),initialOpen:!1},React.createElement(At,{label:"Use Box Border?",help:"if you want to use border",checked:b.use,onChange:function(e){return O({boxBorder:yt(yt({},b),{},{use:e})})}}),b.use&&React.createElement(Wt,null,React.createElement(ht,{field:b.size,min:0,max:20,label:"Size",units:["px"],onChange:function(e){return O({boxBorder:yt(yt({},b),{},{size:e})})}}),React.createElement(At,{label:"Use Custom Radius?",help:"if you want to use custom radius",checked:b.useRadius,onChange:function(e){return O({boxBorder:yt(yt({},b),{},{useRadius:e})})}}),b.useRadius&&React.createElement(ht,{field:b.radius,min:0,max:50,label:"Radius",units:["%","px"],onChange:function(e){return O({boxBorder:yt(yt({},b),{},{radius:e})})}}))),React.createElement(Ht,{title:Ct("Color Settings","themesfirst"),initialOpen:!1,colorSettings:b.use?[{value:k,onChange:function(e){return O({bgColor:void 0!==e?e:"#fff"})},label:Ct("Background Color","themesfirst")},{value:S,onChange:function(e){return O({color:void 0!==e?e:"#222222"})},label:Ct("Heading Color","themesfirst")},{value:h,onChange:function(e){return O({textColor:void 0!==e?e:"#222222"})},label:Ct("Text Color","themesfirst")},{value:b.color,onChange:function(e){return O({boxBorder:yt(yt({},b),{},{color:void 0!==e?e:"#222222"})})},label:Ct("Border Color","themesfirst")}]:[{value:k,onChange:function(e){return O({bgColor:void 0!==e?e:"#fff"})},label:Ct("Background Color","themesfirst")},{value:S,onChange:function(e){return O({color:void 0!==e?e:"#222222"})},label:Ct("Heading Color","themesfirst")},{value:h,onChange:function(e){return O({textColor:void 0!==e?e:"#222222"})},label:Ct("Text Color","themesfirst")}]})),React.createElement("figure",{className:"tf-i2"},0==w.length&&React.createElement(ce,{item_ids:c,products:w,updateValue:z,isSingle:!0}),w.map((function(e,t){return React.createElement("div",{className:fe()({"has-border":x},"tf-i2-product",{"tf-i2-horizontal":g}),style:d({border:b,bgColor:k})},React.createElement("div",{className:"tf-i2-image",style:{width:g?"100%":m+"%"}},!Mt(e,"custom_img.mediaId")&&React.createElement(ze,{image:e.image,asin:e.asin,prodPos:t,updateImages:_,size:g?u:"px"!=s.unit?null:s.size}),React.createElement("div",{className:null==e.custom_img||""==e.custom_img?"no-custom-image":"editor-post-featured-image"},null!=e.custom_img&&React.createElement("img",{src:e.custom_img.mediaUrl}),React.createElement(Ut,null,React.createElement(Ft,{onSelect:function(e){return function(e,t){var r=Rt(w);r[e].custom_img=t,O({products:r})}(t,{mediaId:e.id,mediaUrl:e.url})},value:null!=e.custom_img&&""!=e.custom_img?e.custom_img.mediaId:"",allowedTypes:["image"],render:function(e){var t=e.open;return React.createElement(St,{icon:"wordpress",isSecondary:!0,size:"24",className:"no-custom-image",onClick:t})}})),Mt(e,"custom_img.mediaId")&&React.createElement(St,{icon:"trash",className:"clear-custom-image",iconSize:"24",label:"Delete",onClick:function(){return function(e){if(Mt(w[e],"custom_img")){var t=Rt(w);delete t[e].custom_img,O({products:t})}}(t)}}))),React.createElement("div",{className:"tf-i2-content",style:{width:g?"100%":100-m+"%"}},React.createElement(Dt,{onChange:function(e){return N(e,t,"title",-1)},tagName:"h5",className:"tf-i2-title",style:{color:S},value:e.title,formattingControls:["italic"]}),React.createElement(Dt,{onChange:function(e){return N(e,t,"features",-1)},tagName:"ul",multiline:"li",className:"tf-i2-features",value:e.features,style:{margin:0,color:h}}),E&&!f&&React.createElement("span",{className:fe()("tf-btn-wrapper","tf-btn",{"tf-button-has-border":p.use}),style:d({border:p})},React.createElement("i",{className:fe()(null==v?void 0:v.cssClass)}),React.createElement(Dt,{onChange:function(e){return O({btnText:e})},formattingControls:["bold","italic"],tagName:"span",value:R}))))}))))},save:function(e){var t=e.attributes,r=(t.item_ids,t.width),n=t.btnBorder,a=t.boxBorder,i=t.useBorder,l=t.hideButton,c=t.block_id,u=t.icon,m=t.btnText,f=t.imgWrapperWidth,g=t.imgWidth,p=t.useLink,h=t.products,b=t.textColor,y=t.color,v=t.bgColor,R=t.isHorizontal,E=h[0];return E&&React.createElement("div",{className:"tf-i2",id:c},React.createElement("div",{className:fe()({"has-border":i},"tf-i2-product",{"tf-i2-horizontal":R}),style:d({border:a,bgColor:v})},React.createElement("div",{className:"tf-i2-image",style:{width:R?"100%":f+"%",minHeight:R&&E.image.Height>0&&E.image.Width>0?E.image.Height/E.image.Width*g+"px":"auto"}},React.createElement(s,{isLink:p,href:"##AFFILIATELINK##",target:"_blank",rel:"nofollow noopener noreferrer"},!Mt(E,"custom_img.mediaId")&&React.createElement("img",{src:o(E.image.URL,R?g:"px"==r.unit&&r.size<=E.image.Width?r.size:"",E.image.EXT),alt:E.title,height:E.image.Height,width:E.image.Width}),Mt(E,"custom_img.mediaId")&&React.createElement("img",{src:E.custom_img.mediaUrl,alt:E.title}))),React.createElement("div",{className:"tf-i2-content",style:{width:R?"100%":100-f+"%"}},React.createElement(Dt.Content,{href:"##AFFILIATELINK##",style:{color:y},target:"_blank",className:"tf-i2-title",tagName:p?"a":"span",value:E.title,rel:"nofollow noopener noreferrer"}),React.createElement(Dt.Content,{tagName:"ul",value:E.features,style:{color:b},className:"tf-i2-features"}),p&&!l&&React.createElement("a",{href:"##AFFILIATELINK##",target:"_blank",rel:"nofollow noopener noreferrer",className:fe()("tf-btn-wrapper","tf-btn",{"tf-button-has-border":n.use}),style:d({border:n})},React.createElement("i",{className:fe()(null==u?void 0:u.cssClass)}),"  ",m))))}})}]);
//# sourceMappingURL=blocks.js.map