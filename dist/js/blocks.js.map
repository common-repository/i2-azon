{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/classnames/index.js","webpack:///./src/component/common.js","webpack:///./src/component/azsearch/data.js","webpack:///./src/component/azsearch/azsearch.js","webpack:///./src/formater/link-formater.js","webpack:///./src/component/data.js","webpack:///./src/component/MdlImagePicker.js","webpack:///./src/component/fields/widthSize.js","webpack:///./src/blocks/image/index.js","webpack:///./src/component/fields/unitSize.js","webpack:///./src/blocks/product-box/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","hasOwn","classNames","classes","arguments","length","arg","argType","push","Array","isArray","inner","apply","join","default","lodash","isEmpty","some","AmzonImg","props","imageUrl","size","ext","style","className","onClick","src","AmzonImgURL","lsize","tfGlobal","homeUrl","AmazonSelectImg","images","idx","obj","JSON","parse","AmazonSelectExt","MyBlockWrapper","isLink","id","href","children","target","rel","elm","wp","element","createElement","AmazonLink","asin","storeUrl","AmazonAffiliateLink","add_proxy_link","proxy_link_slug","donotAddLink","partnerTagForLink","AmazonSearchLink","keyword","PrepareInlineStyle","color","bgColor","padding","border","backgroundColor","useRadius","radius","val","borderRadius","unit","use","undefined","borderColor","SortFilter","label","has","map","remove","first","difference","dropWhile","includes","isEqual","chunk","RichTextToolbarButton","blockEditor","useState","useEffect","richText","toggleFormat","applyFormat","insert","removeFormat","components","Flex","FlexItem","FlexBlock","ExternalLink","ToggleControl","Notice","SelectControl","RangeControl","TextControl","Button","ButtonGroup","Modal","Spinner","Card","CardBody","CardDivider","CardFooter","CardMedia","CardHeader","apiFetch","__","i18n","MZSearchDialog","item_ids","products","updateValue","formaterProps","isSingle","isFormater","open","setOpen","term","rating","minPrice","maxPrice","minSavingPercent","sortBy","categoryId","searchFilter","setSearchFilter","categories","setCategories","loading","setLoading","fromServer","setFromServer","openNewWindow","setOpenNewWindow","allowLoadFromServer","setAllowLoadFromServer","pageCount","setPageCount","data","setData","page","setPage","error","setError","hasLink","setHasLink","startSearch","updateProducts","getSearchResult","fs","localStorage","getItem","pos","curPage","path","then","bins","forCategory","item","Id","DisplayName","resutlCount","resetPageCount","parseInt","changePage","updateAsin","action","title","start","end","toInsert","text","type","attributes","onChange","removeItem","x","product_asin","product_to_remove","product_to_load","newProds","fetchContent","asins","items","newProd","active_image_Index","image_ids","image","updateServer","setItem","icon","isActive","group","variant","isPrimary","isSecondary","isBusy","disabled","onRequestClose","aria-labelledby","width","maxWidth","minHeight","help","checked","marginLeft","iconPosition","justify","textAlign","status","onRemove","marginTop","marginBottom","options","SearchResult","Items","alignSelf","indexOf","display","BrowseNodeInfo","BrowseNodes","ContextFreeName","registerFormatType","tagName","edit","FontSizeList","slug","MdlImagePickerNew","prodPos","updateImages","setImages","position","aria-label","top","left","URL","EXT","imgs","img","classnames","WidthSize","field","maxVal","minVal","isSmall","withInputField","min","step","max","registerBlockType","blocks","FontSizePicker","PanelBody","InspectorControls","MediaUpload","MediaUploadCheck","RichText","PanelColorSettings","category","keywords","block_id","link","alt_text","showText","textOnTop","useBorder","paddingSize","fontSize","useLink","customLink","full","supports","align","clientId","active_image_index","custom_img","setAttributes","updateData","lastIndexOf","substring","initialOpen","fontSizes","fallbackFontSize","withSlider","newFontSize","colorSettings","colorValue","prod","j","flexDirection","mediaUrl","onSelect","updateCustomImage","mediaId","url","allowedTypes","render","iconSize","removeCustomImage","clear","margin","lineHeight","save","Width","alt","height","Height","UnitSize","units","Dashicon","CheckboxControl","Fragment","textColor","hideButton","btnText","boxBorder","btnBorder","cssClass","imgWrapperWidth","imgWidth","isHorizontal","features","replace","CleanText","description","dbFeatures","updateProduct","content","prop","propPos","resetFeatures","allowReset","formattingControls","multiline","Content"],"mappings":"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","file":"js/blocks.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","const {some,isEmpty} = lodash\r\n\r\nexport const AmzonImg = (({imageUrl, size =\"\", ext = \"jpg\", style, className, onClick} = props) =><img className={className} style={style? style: null} onClick={() => (onClick ? onClick() : null)} src={AmzonImgURL(imageUrl, size,ext)}></img>);\r\nexport const AmzonImgURL = (imageUrl, size =\"\", ext = \"jpg\") => {\r\n\tlet lsize =\tsize? '._SL' + size +'_' : '';\r\n\treturn imageUrl != 'NOIMG' && imageUrl != '#' && !isEmpty(imageUrl) ? 'https://m.media-amazon.com/images/I/' + imageUrl + lsize +'.' + (ext? ext : 'jpg'): \r\n\t\t\t\t\t\t\t\t\t\ttfGlobal.homeUrl + '/wp-content/plugins/i2-azone/dist/images/no-image-available.png';\r\n};\r\nexport const AmazonSelectImg = (images, idx = 0)=>{\r\n\tif (images && images != \"#\") {\r\n\t\t// console.log(JSON.parse(images));\r\n\t\tconst obj = JSON.parse(images);\r\n\t\tif (obj && obj.length > idx) {\r\n\t\t\treturn  obj[idx]['URL'];\r\n\t\t}\r\n\t\treturn \"NOIMG\";\r\n\t}\r\n}\r\nexport const AmazonSelectExt = (images, idx = 0)=>{\r\n\tif (images && images != \"#\") {\r\n\t\t// console.log(JSON.parse(images));\r\n\t\tconst obj = JSON.parse(images);\r\n\t\tif (obj && obj.length > idx) {\r\n\t\t\treturn  obj[idx]['EXT'];\r\n\t\t}\r\n\t\treturn \"jpg\";\r\n\t}\r\n}\r\nexport const MyBlockWrapper = (({isLink, id, href, style, className, onClick, children, target = \"_blank\", rel = \"nofollow noopener noreferrer\", elm = 'span'} = props) =>{\r\nreturn (isLink ? <a id={id} href={href} style={style} className={className} onClick={onClick} target={target} rel={rel}>{children}</a> : \r\n\twp.element.createElement(elm, {id:id, style:style, className:className, onClick:onClick}, children))\r\n})\r\n\r\n//s?k=B00MNV8E0C\r\nexport const AmazonLink = (asin)=> tfGlobal.storeUrl + '/dp/'+ asin;\r\nexport const AmazonAffiliateLink = (asin)=> {\r\n\treturn tfGlobal.add_proxy_link == '1' ? tfGlobal.homeUrl + '/' + tfGlobal.proxy_link_slug + '/' + asin :\r\n\ttfGlobal.storeUrl + '/dp/'+ asin + (tfGlobal.donotAddLink == '1' ? '' : '/?tag=' + tfGlobal.partnerTagForLink +'&linkCode=ogi&th=1&psc=1');\r\n} \r\n\r\nexport const AmazonSearchLink = (keyword)=> tfGlobal.storeUrl + '/s?k='+ keyword;\r\nexport const MySpace = (height = 15)=>{\r\n\t<div style={{height: height + \"px\", width: \"100%\", minWidth: \"100%\"}}></div>\r\n}\r\nexport const ValidateASIN = (asin) => { return /^(B[\\dA-Z]{9}|\\d{9}(X|\\d))$/.test(asin) };\r\n\r\nexport const SetDefaultColorPlate = (PreSetColors, obj)=>{\r\n\tif(obj !== undefined && some(PreSetColors, {color: obj}) !== true){\r\n\t\tlet colors = [...PreSetColors];\r\n\t\tcolors.push({name: 'Custom', color: obj});  \r\n\t\treturn colors;             \r\n\t}\r\n\treturn [...PreSetColors];          \r\n }\r\n\r\nexport const Log = (obj, obj2) => {\r\n\tconsole.log(\"======================\");\r\n\tconsole.log(obj);\r\n\tif(typeof obj2 != undefined){\r\n\tconsole.log(obj2);\r\n\t}\r\n\tconsole.log(\"======================\");\r\n}\r\n\r\nexport const PrepareInlineStyle = ({color,bgColor, padding, border} = props)=>{\r\n\tlet obj = {};\r\n\t//  obj.fontSize = fontSize + \"px\";\r\n\t//  obj.lineHeight = (fontSize * 2 ) + \"px\";\r\n\t//  console.log(border);\r\n\t  if(!isEmpty(color)){\r\n\t\tobj.color = color;\r\n\t  }\r\n\t  if(!isEmpty(bgColor)){\r\n\t    obj.backgroundColor = bgColor;\r\n\t  }\r\n\t  if(!isEmpty(padding)){\r\n\t    obj.padding = padding;\r\n\t  }\r\n\t  if(!isEmpty(border)){\r\n\t  if(border.useRadius == true && border.radius?.val > 0) {\r\n\t\tobj.borderRadius =  border.radius.val + border.radius.unit;\r\n\t  }\r\n\t  if(border.use == true && border.color != undefined){\r\n\t\t  obj.border = border.size.val + border.size.unit + \" solid \" + border.color; \r\n\t  } else{\r\n\t\t  obj.borderColor = border.color;\r\n\t  }\r\n\t}\r\n\t//  console.log(obj);\r\n\t  return obj;\r\n}\r\n\r\nexport const CleanText = (text) => {\r\n//\tconsole.log(text.replace(/\\\\/g,''))\r\n\treturn text.replace(/\\\\/g,'');\r\n}","export const SortFilter = [\r\n{\r\n\tvalue: \"Featured\",\r\n\tlabel: \"Featured\"\r\n},{\r\n\tvalue: \"AvgCustomerReviews\",\r\n\tlabel: \"Avg Customer Reviews\"\r\n},{\r\n\tvalue: \"NewestArrivals\",\r\n\tlabel: \"Newest Arrivals\"\r\n},{\r\n\tvalue: \"Price:HighToLow\",\r\n\tlabel: \"Price: High To Low\"\r\n},{\r\n\tvalue: \"Price:LowToHigh\",\r\n\tlabel: \"Price: Low To High\"\r\n},{\r\n\tvalue: \"Relevance\",\r\n\tlabel: \"Relevance\"\r\n}]\r\n","// import React, { useEffect, useState } from 'react';\r\nconst {\r\n  has,\r\n  get,\r\n  map,\r\n  remove,\r\n  first,\r\n  difference,\r\n  dropWhile,\r\n  includes,\r\n  isEqual,\r\n  chunk,\r\n} = lodash;\r\n// import { plus as linkIcon } from '@wordpress/icons';\r\n// import {smileIcon} from '../../icons/custom'\r\nimport { AmzonImg, AmazonSelectImg, AmazonSelectExt, AmazonLink,AmazonAffiliateLink, AmazonSearchLink } from \"../common\";\r\n//import {Box, Avatar,LinearProgress,Grid, Paper,Divider, List, ListItem , ListItemText,Select,MenuItem,TextField,Slider, FormGroup   } from '@material-ui/core'\r\n//import Alert from \"@material-ui/lab/Alert\";\r\nimport { SortFilter } from \"./data\";\r\n//import { VerticalAlignBottom } from '@material-ui/icons';\r\n// import CssBaseline from '@material-ui/core/CssBaseline';\r\n// import {AZCard} from './azcard'\r\n// import {AZDbCard} from './azdbcard'\r\nconst {RichTextToolbarButton } = wp.blockEditor;\r\nconst { useState, useEffect } = wp.element;\r\nconst { toggleFormat,applyFormat,removeFormat,insert,create } = wp.richText;\r\nconst {\r\n  Flex,\r\n  FlexItem,\r\n  FlexBlock,\r\n  ExternalLink,\r\n  ToggleControl,\r\n  Notice,\r\n  RangeControl,\r\n  SelectControl,\r\n  TextControl,\r\n\tButton,\r\n\tButtonGroup,\r\n  Modal,\r\n  Spinner,\r\n  Card,\r\n  CardBody,\r\n  CardDivider,\r\n  CardFooter,\r\n  CardHeader,\r\n  CardMedia,\r\n} = wp.components;\r\nconst { apiFetch } = wp;\r\nconst { __ } = wp.i18n;\r\n\r\nexport const MZSearchDialog = ({\r\n  item_ids,\r\n  products,\r\n\tupdateValue,\r\n\tformaterProps,\r\n\tisSingle = false,\r\n\tisFormater = false,\r\n} = props) => {\r\n  // const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const [searchFilter, setSearchFilter] = useState({\r\n    term: \"\",\r\n    rating: 4,\r\n    minPrice: 40,\r\n    maxPrice: 0,\r\n    minSavingPercent: 0,\r\n    sortBy: \"Featured\",\r\n    categoryId: \"all\",\r\n  });\r\n  const [categories, setCategories] = useState([\r\n    { value: \"all\", label: \"All Category\" },\r\n  ]);\r\n  const [categoryId, setCategoryId] = useState(\"all\");\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [fromServer, setFromServer] = useState(true);\r\n  const [openNewWindow, setOpenNewWindow] = useState(true);\r\n  const [allowLoadFromServer, setAllowLoadFromServer] = useState(false);\r\n\r\n  const [pageCount, setPageCount] = useState(0);\r\n  const [data, setData] = useState(null);\r\n  const [page, setPage] = useState(0);\r\n  const [error, setError] = useState(null);\r\n  const [hasLink, setHasLink] = useState(null);\r\n  \r\n\r\n  useEffect(() => {\r\n    if (searchFilter.term.length > 0) {\r\n      startSearch();\r\n    }\r\n  }, [categoryId]);\r\n\r\n  useEffect(() => {\r\n    updateProducts();\r\n  }, [item_ids]);\r\n\r\n  useEffect(() => {\r\n    //console.log(fromServer);\r\n    if (allowLoadFromServer && (!fromServer || (fromServer &&  searchFilter.term.length > 2))) {\r\n      getSearchResult(0);\r\n\t\t}\r\n\t\t\r\n  }, [fromServer]);\r\n\r\n  useEffect(() => {\r\n    let fs = localStorage.getItem(\"fromServer\");\r\n    setFromServer(fs == \"true\");\r\n    setAllowLoadFromServer(true);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if ((searchFilter.term.length > 0 || !fromServer) && page > 0) {\r\n      getSearchResult();\r\n    }\r\n  }, [page, open]);\r\n\r\n  const getSearchResult = (pos) => {\r\n    if (open && !loading) {\r\n      setError(null);\r\n      let curPage = pos != 0 ? page : pos;\r\n      let term = searchFilter.term.length > 0 ? searchFilter.term : \"NOTERM\";\r\n      setLoading(true);\r\n      apiFetch({\r\n        path:\r\n          \"/i2-azon/v1/search/\" +\r\n          term +\r\n          \"?si=\" +\r\n          searchFilter.categoryId +\r\n          \"&page=\" +\r\n          curPage +\r\n          // \"&rating=\" +\r\n          // searchFilter.rating +\r\n          // \"&minPrice=\" +\r\n          // searchFilter.minPrice * 100 +\r\n          // \"&maxPrice=\" +\r\n          // searchFilter.maxPrice * 100 +\r\n          // \"&minSavingPercent=\" +\r\n          // searchFilter.minSavingPercent +\r\n          \"&sortBy=\" +\r\n          searchFilter.sortBy +\r\n          \"&sourceRemote=\" +\r\n          fromServer,\r\n      }).then((data) => {\r\n       // console.log(data);\r\n        if (has(data, \"Errors\")) {\r\n          // console.log(get(data, \"Errors[0].Message\"));\r\n          setError(get(data, \"Errors[0].Message\"));\r\n          setData(null);\r\n          setLoading(false);\r\n        } else {\r\n          if (categories.length < 2) {\r\n            let bins = get(\r\n              data,\r\n              \"SearchResult.SearchRefinements.SearchIndex.Bins\",\r\n              []\r\n            );\r\n            let forCategory = [{ value: \"all\", label: \"All Category\" }];\r\n            if (bins.length > 0) {\r\n              bins.map((item) =>\r\n                forCategory.push({\r\n                  value: item.Id,\r\n                  label: item.DisplayName,\r\n                })\r\n              );\r\n              setCategories(forCategory);\r\n            }\r\n          }\r\n          // console.log('SearchResult.TotalResultCount');\r\n          // console.log(get(data,'SearchResult.TotalResultCount', 0));\r\n          let resutlCount = get(data, \"SearchResult.TotalResultCount\", 0);\r\n          resetPageCount(resutlCount);\r\n          setData(data);\r\n          // console.log(\"data loaded\");\r\n          // console.log(data);\r\n          // loading = false\r\n          if(resutlCount == 0){\r\n            if(!fromServer && searchFilter.term.length > 0){\r\n              setError(__('No result found, search on amazon ', 'themesfirst'));\r\n              setHasLink(true)\r\n            }else{\r\n              setError(__('No result found', 'themesfirst'));\r\n            }\r\n          }\r\n          setLoading(false);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const resetPageCount = (val) => {\r\n    if (val >= 100) {\r\n      setPageCount(10);\r\n    } else {\r\n      setPageCount(val > 10 ? parseInt(val / 10) + (val % 10 > 0 ? 1 : 0) : 0);\r\n    }\r\n  };\r\n\r\n  const changePage = (val) => {\r\n    //\tpage = page + val;\r\n    if (page == 1 && val == 1) {\r\n      setPage(0);\r\n      getSearchResult(0);\r\n    } else {\r\n      setPage(val - 1);\r\n    }\r\n  };\r\n  const startSearch = () => {\r\n    if (page > 0) {\r\n      setPage(0);\r\n    }\r\n    getSearchResult(0);\r\n  };\r\n  //  After Finalize the function\r\n  const updateAsin = (action, asin, title = '') => {\r\n\t \r\n\t\tif(isFormater){\r\n\r\n\t\t\tif(formaterProps.value.start == formaterProps.value.end){\r\n\t\t\t\tconst toInsert = applyFormat(\r\n\t\t\t\t\tcreate( { text: title + \" \"} ),\r\n\t\t\t\t\t{ type: \"themesfirst/amazonlinkformat\",\r\n\t\t\t\t\t\t\t\tattributes: { href: AmazonAffiliateLink(asin), target : openNewWindow ? \"_blank\" : \"_self\", rel : \"nofollow noopener noreferrer\" }, \r\n\t\t\t\t\t },\r\n\t\t\t\t\t0,\r\n\t\t\t\t\ttitle.length\r\n\t\t\t\t);\r\n\t\t\t\tformaterProps.onChange( insert( formaterProps.value, toInsert ))\r\n\t\t\t}else{\r\n\t\t\tformaterProps.onChange( \r\n\t\t\t\tapplyFormat(\r\n\t\t\t\t\tformaterProps.value,                \r\n\t\t\t\t\t\t\t{ type: \"themesfirst/amazonlinkformat\",\r\n\t\t\t\t\t\t\t\tattributes: { href: AmazonAffiliateLink(asin), target : openNewWindow ? \"_blank\" : \"_self\" , rel : \"nofollow noopener noreferrer\" }, \r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t);\r\n\t\t}\r\n\t\t\tsetOpen(false) \r\n\r\n\t\t}else{\r\n    if (action == \"add\") {\r\n      if (!isSingle) {\r\n        updateValue({ item_ids: [...item_ids, asin] });\r\n      } else {\r\n        updateValue({ item_ids: [asin] });\r\n      }\r\n    } else if(action == \"delete\") {\r\n      removeItem(asin);\r\n    }else {\r\n      remove(item_ids, function (x) {\r\n        return isEqual(x, asin);\r\n      });\r\n      updateValue({ item_ids: [...item_ids] });\r\n    }\r\n\t\t//console.log(action, asin);\r\n\t\t}\r\n  };\r\n  // const removeProduct = (asin) => {\r\n  //   console.log(\"request for remove ... \" + asin);\r\n  //   const obj = [...products];\r\n  //   let pIndex = findIndex(obj, { asin: asin });\r\n  //   if (pIndex > -1) {\r\n  //     obj.splice(pIndex, 1);\r\n  //     updateValue({ products: obj });\r\n  //   }\r\n  // };\r\n\r\n  // new working changs\r\n  // =====================================================================================================//\r\n\r\n  const updateProducts = () => {\r\n    let product_asin = map(products, \"asin\");\r\n    const product_to_remove = difference(product_asin, item_ids);\r\n    const product_to_load = difference(item_ids, product_asin);\r\n\r\n    if (product_to_remove.length > 0) {\r\n      // console.log(\"=============\");\r\n      // console.log(\"product to remove : \");\r\n      // console.log(product_to_remove);\r\n      // console.log(\"=============\");\r\n      let newProds = dropWhile(products, function (x) {\r\n        return includes(product_to_remove, x.asin);\r\n      });\r\n     // console.log(newProds);\r\n      updateValue({ products: newProds });\r\n    }\r\n    if (product_to_load.length > 0) {\r\n      // console.log(\"=============\");\r\n      // console.log(\"goin to fetch : \");\r\n      // console.log(product_to_load);\r\n      // console.log(\"=============\");\r\n      fetchContent(product_to_load.join(\",\"));\r\n    }\r\n  };\r\n\r\n  const fetchContent = (asins) => {\r\n    apiFetch({ path: \"/i2-azon/v1/contents/\" + asins }).then((items) => {\r\n      if (items != null) {\r\n        var newProd = isSingle ? [] : [...products];\r\n\r\n        items.map((obj) => {\r\n          var item = obj;\r\n          item.active_image_Index = 0;\r\n          var images = JSON.parse(obj.image_ids);\r\n          if (images.length > 0) {\r\n           // item.images = images;\r\n           delete item.image_ids;\r\n            item.image = images[0];\r\n          }\r\n          newProd.push(item);\r\n        });\r\n\r\n       // console.log(newProd);\r\n        updateValue({ products: newProd });\r\n      }\r\n    });\r\n  };\r\n\r\n  const removeItem = (asin) => {\r\n    apiFetch({ path: \"/i2-azon/v1/delete/\" + asin }).then((data) => {\r\n     // console.log(data);\r\n       if(data == 1){\r\n        remove(item_ids, function (x) {\r\n          return isEqual(x, asin);\r\n        });\r\n        updateValue({ item_ids: [...item_ids] });\r\n        getSearchResult(page);\r\n\r\n       }else{\r\n        setError(__('Error on removing product, please try again','themefirst'));\r\n       }\r\n\r\n      // if (items != null) {\r\n      //   var newProd = isSingle ? [] : [...products];\r\n\r\n      //   items.map((obj) => {\r\n      //     var item = obj;\r\n      //     item.active_image_Index = 0;\r\n      //     var images = JSON.parse(obj.image_ids);\r\n      //     if (images.length > 0) {\r\n      //       item.images = images;\r\n      //       item.image = images[0];\r\n      //     }\r\n      //     newProd.push(item);\r\n      //   });\r\n\r\n      //   console.log(newProd);\r\n      //   updateValue({ products: newProd });\r\n      // }\r\n    });\r\n  };\r\n  // end new changes\r\n  const updateServer = (val) => {\r\n    localStorage.setItem(\"fromServer\", val);\r\n    setData(null);\r\n    setFromServer(val);\r\n  };\r\n\r\n  return (\r\n    <>\r\n\t\t  {isFormater ? \r\n\t\t\t<>\r\n\t\t\t<RichTextToolbarButton  \r\n\t\t\t icon= {formaterProps.isActive? 'editor-unlink' : 'admin-links'}\r\n\t\t\t// icon= {smileIcon}\t\t\t \r\n\t\t\t title={__('Amazon link', 'themesfirst')}\r\n       onClick={ () => { \r\n\t\t\t\t formaterProps.isActive ? \r\n\t\t\t\t formaterProps.onChange(  toggleFormat(\r\n\t\t\t\t\tformaterProps.value,\r\n\t\t\t\t\t{ type: 'themesfirst/amazonlinkformat' } ))\r\n\t\t\t\t   :  \r\n\t\t\t\t\t\tsetOpen(true) } \r\n\t\t\t\t\t}\r\n\t\t\t\tgroup=\"primary\"\r\n       isActive={ formaterProps.isActive }\r\n      /> </> : \r\n      <Flex>\r\n        <span> \r\n        <Button variant=\"outlined\" isPrimary onClick={(obj) => setOpen(true)}>\r\n          {__(\"Search Products\", \"themesfirst\")}\r\n        </Button>\r\n        </span>\r\n\t\t\t\t{item_ids.length > 0 &&\r\n        <Button\r\n          icon=\"image-rotate\"\r\n          isSecondary\r\n          size=\"24\"\r\n\t\t\t\t\tisBusy={loading}\t\t\t\t\t\r\n          variant=\"outlined\"\r\n          onClick={updateProducts}\r\n          disabled={difference(item_ids, map(products, \"asin\")).length == 0}\r\n        ></Button>}\r\n      </Flex> }\r\n      {open && (\r\n        <Modal\r\n          open={open}\r\n          title={__(\"Search Products\", \"themesfirst\")}\r\n          onRequestClose={() => setOpen(false)}\r\n          aria-labelledby=\"form-dialog-title\"\r\n          style={{width: '90%', maxWidth: '1080px'}}\r\n        >\r\n          <figure style={{ minHeight: \"400px\" }}>\r\n            <Flex className=\"tf-top-pagination-wrapper\">\r\n              <FlexItem>\r\n                <Flex>\r\n                <FlexItem>\r\n                <ToggleControl\r\n                  label=\"Use API?\"\r\n                  help={fromServer ? __('Active Server Amazon API', 'themesfirst')  : __('Active Server Local DB', 'themesfirst')}\r\n                  checked={fromServer}\r\n                  onChange={() => updateServer(!fromServer)}\r\n                />\r\n                </FlexItem>\r\n                {isFormater && <FlexItem>\r\n                <ToggleControl\r\n                  label=\"Open link in new tab?\"\r\n                  help={openNewWindow ? __('link will open in new tab', 'themesfirst')  : __('link will open in same tab', 'themesfirst')}\r\n                  checked={openNewWindow}\r\n                  onChange={() => setOpenNewWindow(!openNewWindow)}\r\n                />\r\n                </FlexItem>}\r\n                </Flex>\r\n                \r\n                 \r\n              </FlexItem>              \r\n\t\t\t\t\t\t\t{pageCount > 1 &&\t<ButtonGroup style={{marginLeft:\"auto\"}}>\r\n\t\t\t\t\t\t\t {page > 0 &&\t<Button onClick={()=> changePage(page)} icon=\"arrow-left-alt2\">{__('Prev', 'themesfirst')}</Button>}\r\n\t\t\t\t\t\t\t\t<Button isPrimary disabled={true} icon=\"editor-kitchensink\" > &nbsp; {page + 1} {__('of', 'themesfirst')} {pageCount}</Button>\r\n\t\t\t\t\t\t\t {page < pageCount - 1 &&\t<Button onClick={()=> changePage(page + 2)} icon=\"arrow-right-alt2\" iconPosition=\"right\">{__('Next', 'themesfirst')}</Button>}\r\n\t\t\t\t\t\t\t</ButtonGroup>}\r\n              {/* <FlexBlock style={{ marginLeft: \"auto\" }}>\r\n\r\n                {pageCount > 1 && (\r\n                  <Pagination\r\n                    count={pageCount}\r\n                    className={\"MuiPagination-ul\"}\r\n                    disabled={loading}\r\n                    color=\"primary\"\r\n                    page={page + 1}\r\n                    onChange={(obj, pos) => changePage(pos)}\r\n                  />\r\n                )}\r\n              </FlexBlock> */}\r\n            </Flex>\r\n            {loading && (\r\n              <Flex justify=\"center\">\r\n                <FlexBlock style={{ minHeight: \"50px\", textAlign: \"center\" }}>\r\n                  <Spinner />\r\n                </FlexBlock>\r\n              </Flex>\r\n            )}\r\n            {error && (\r\n              <Notice status=\"error\" onRemove={() => {setError(null), setHasLink(null)}}>\r\n                {error} {hasLink && <ExternalLink href={AmazonSearchLink(searchFilter.term)}>{searchFilter.term}</ExternalLink>}\r\n              </Notice>\r\n            )}\r\n\r\n            <div style={{ marginTop: \"15px\", marginBottom: \"15px\" }}>\r\n              {/* <div className=\"tf-sub-title\">\r\n           <h4>{__('Search the product which you want to publish on the website', 'themesfirst')}</h4>\r\n          </div> */}\r\n              <Flex className=\"tf-flex-sf-container\">\r\n                <FlexItem>\r\n                  <TextControl\r\n                    label={__(\"Search Terms\", \"themesfirst\")}\r\n                    value={searchFilter.term}\r\n                    onChange={(obj) =>\r\n                      setSearchFilter({ ...searchFilter, term: obj })\r\n                    }\r\n                  />\r\n                </FlexItem>\r\n                <FlexItem>\r\n                  {fromServer && (\r\n                    <SelectControl\r\n                      label={__(\"Sort By\", \"themesfirst\")}\r\n                      value={searchFilter.sortBy}\r\n                      onChange={(obj) => {\r\n                        setSearchFilter({ ...searchFilter, sortBy: obj });\r\n                      }}\r\n                      options={SortFilter}\r\n                    />\r\n                  )}\r\n                </FlexItem>\r\n                <FlexItem>\r\n                  <Button\r\n                    icon=\"search\"\r\n                    isBusy={loading}\r\n                    className=\"tf-full-button\"\r\n                    style={{ marginBottom: \"8px\" }}\r\n                    disabled={fromServer && searchFilter.term.length < 3}\r\n                    isPrimary\r\n                    onClick={() => startSearch()}\r\n                  >\r\n                    {__(\"Search\", \"themesfirst\")}\r\n                  </Button>\r\n                </FlexItem>\r\n              </Flex>\r\n            </div>\r\n\r\n            {data &&\r\n              data.SearchResult.Items.length > 0 &&\r\n              chunk(data.SearchResult.Items, 3).map((items) => {\r\n                return (\r\n                  <Flex justify=\"center\" style={{ marginBottom: \"10px\" }}>\r\n                    {items.map((item) => (\r\n                      <FlexItem\r\n                        style={{ maxWidth: \"33%\", alignSelf: \"flex-start\" }}\r\n                      >\r\n                        {fromServer ? (\r\n                          <Card className=\"tf-card\">\r\n                            {item_ids.indexOf(get(item, \"ASIN\")) == -1 ? (\r\n                              <Button\r\n                                icon=\"plus\"\r\n                                isSecondary\r\n                                size=\"24\"\r\n                                onClick={(obj) =>\r\n                                  updateAsin(\"add\", get(item, \"ASIN\"), get(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"ItemInfo.Title.DisplayValue\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"No Title\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))\r\n                                }\r\n                                className=\"tf-card-button tf-button-add\"\r\n                              ></Button>\r\n                            ) : (\r\n                              <Button\r\n                                icon=\"minus\"\r\n                                isSecondary\r\n                                size=\"24\"\r\n                                onClick={(obj) =>\r\n                                  updateAsin(\"remove\", get(item, \"ASIN\"))\r\n                                }\r\n                                className=\"tf-card-button tf-button-minus\"\r\n                              ></Button>\r\n                            )}\r\n                            <CardMedia className=\"tf-card-image\">\r\n                              <img\r\n                                src={get(item, \"Images.Primary.Large.URL\", \"#\")}\r\n                              />\r\n                            </CardMedia>\r\n                            <CardBody size=\"small\">\r\n                              <strong style={{marginTop:0, display: 'block'}}>ASIN :  \r\n                              {\r\n                                get(item, 'ASIN', 'no asin')\r\n                              }</strong>\r\n                              {get(\r\n                                item,\r\n                                \"ItemInfo.Title.DisplayValue\",\r\n                                \"No Title\"\r\n                              )}\r\n                              <CardDivider className=\"tf-card-devider\" />\r\n                              {\r\n                                first(item.BrowseNodeInfo.BrowseNodes)\r\n                                  .ContextFreeName\r\n                              }\r\n                            </CardBody>\r\n                            <CardFooter size=\"small\">\r\n                              <FlexItem>\r\n                                {has(\r\n                                  item,\r\n                                  \"Offers.Listings[0].SavingBasis.DisplayAmount\"\r\n                                ) ? (\r\n                                  <span>\r\n                                    <s>\r\n                                      {get(\r\n                                        item,\r\n                                        \"Offers.Listings[0].SavingBasis.DisplayAmount\"\r\n                                      )}\r\n                                    </s>{\" \"}\r\n                                    &nbsp;{\" \"}\r\n                                  </span>\r\n                                ) : (\r\n                                  \"\"\r\n                                )}\r\n                                <b>\r\n                                  {get(\r\n                                    item,\r\n                                    \"Offers.Listings[0].Price.DisplayAmount\",\r\n                                    \"No Price\"\r\n                                  )}\r\n                                </b>\r\n                              </FlexItem>\r\n                              <FlexItem style={{ marginLeft: \"auto\" }}>\r\n                                <ExternalLink\r\n                                  href={get(item, \"DetailPageURL\")}\r\n                                ></ExternalLink>\r\n                              </FlexItem>\r\n                            </CardFooter>\r\n                          </Card>\r\n                        ) : (\r\n                          <Card className=\"tf-card\">\r\n                            {item_ids.indexOf(get(item, \"asin\")) == -1 ? (\r\n                              <Button\r\n                                icon=\"plus\"\r\n                                isSecondary\r\n                                size=\"24\"\r\n                                onClick={(obj) =>\r\n                                  updateAsin(\"add\", get(item, \"asin\"), get(item, \"title\", ''))\r\n                                }\r\n                                className=\"tf-card-button tf-button-add\"\r\n                              ></Button>\r\n                            ) : (\r\n                              <Button\r\n                                icon=\"minus\"\r\n                                isSecondary\r\n                                size=\"24\"\r\n                                onClick={(obj) =>\r\n                                  updateAsin(\"remove\", get(item, \"asin\"))\r\n                                }\r\n                                className=\"tf-card-button tf-button-minus\"\r\n                              ></Button>\r\n                            )}\r\n                              <Button\r\n                                icon=\"trash\"\r\n                                isSecondary\r\n                                size=\"24\"\r\n                                onClick={(obj) =>\r\n                                  updateAsin(\"delete\", get(item, \"asin\"))\r\n                                }\r\n                                className=\"tf-card-button tf-button-minus tf-button-trash\"\r\n                              ></Button>\r\n                            <CardMedia className=\"tf-card-image\">\r\n                              <AmzonImg\r\n                                imageUrl={AmazonSelectImg(\r\n                                  get(item, \"image_ids\", \"#\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\text={AmazonSelectExt(\r\n                                  get(item, \"image_ids\", \"#\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n                              ></AmzonImg>\r\n                            </CardMedia>\r\n                            <CardBody size=\"small\">\r\n                            <strong style={{marginTop:0, display: 'block'}}>ASIN :  \r\n                              {\r\n                                get(item, 'asin', 'no asin')\r\n                              }</strong>\r\n                              {get(item, \"title\", \"No Title\")}\r\n                            </CardBody>\r\n                            <CardFooter size=\"small\">\r\n                              <FlexItem>\r\n                                {has(item, \"saving\") ? \r\n                                  <span>\r\n                                    <s>{get(item, \"saving\")}</s> &nbsp;{\" \"}\r\n                                  </span>\r\n                                 : \"\"\r\n                                }\r\n                                <b>{get(item, \"display_price\", __('No Price', 'themesfirst'))}</b>\r\n                              </FlexItem>\r\n                              <FlexItem style={{ marginLeft: \"auto\" }}>\r\n                                <ExternalLink\r\n                                  href={AmazonLink(get(item, \"asin\"))}\r\n                                ></ExternalLink>\r\n                              </FlexItem>\r\n                            </CardFooter>\r\n                          </Card>\r\n                        )}\r\n                      </FlexItem>\r\n                    ))}\r\n                  </Flex>\r\n                );\r\n              })}\r\n          </figure>\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import {MZSearchDialog} from '../component/azsearch/azsearch' \r\nconst { registerFormatType } = wp.richText;\r\nconst { __ } = wp.i18n;\r\n \r\nconst AmzLinkButton = ( props ) => {\r\n    // console.log(props);\r\n     return <MZSearchDialog isFormater={true} formaterProps={props} item_ids={[]} />\r\n};\r\n \r\nregisterFormatType(\r\n    'themesfirst/amazonlinkformat', {\r\n        title: __('Amazon link (i2-azon)', 'themesfirst'),\r\n        tagName: 'a',\r\n        className: 'i2-azon-amazon-link',\r\n        edit: AmzLinkButton,\r\n    }\r\n);","import { ExitToAppOutlined } from \"@material-ui/icons\";\r\n\r\nconst { __ } = wp.i18n;\r\nexport const SLTypeOfInput = [\r\n    { label: __('Text'), value: 'SLN' },\r\n //   { label: __('Multi line'), value: 'MLN' },\r\n    { label: __('Number'), value: 'NBR' },\r\n //   { label: __('Link'), value: 'LNK' },\r\n    { label: __('Button'), value: 'BTN' },\r\n    { label: __('Yes/No'), value: 'YRN' },\r\n    { label: __('Image'), value: 'IMG' },\r\n    { label: __('Rating'), value: 'RTG' },\r\n //   { label: __('Block'), value: 'BLK' }\r\n]\r\nexport const SLDefaultClasses = [\r\n    { label: __('Link'), value: 'tftxtlink' },\r\n    { label: __('Flat'), value: 'tfflatlink' },\r\n    { label: __('3D'), value: 'tf3dlink' },\r\n    { label: __('Amazon'), value: 'tfamazonlink' },\r\n    { label: __('Custom'), value: '' }\r\n]\r\n\r\nexport const PreSetColors = [\r\n\t{ name: 'Red', color: '#d9534f' },\r\n\t{ name: 'Green', color: '#27ae60' },\r\n\t{ name: 'Blue', color: '#256aaf' },\r\n\t{ name: 'Brown', color: '#e47911' },\r\n\t{ name: 'Black', color: '#231f20'},\r\n];\r\n\r\nexport const FeaturesDefaults = [\r\n\t{ id: 'productHighlighter', visiable: false, show_label: false, label: __('Highlighter', 'themes-first'), display_label: __('', 'themes-first'), allowTodelete: false, type: \"PDH\", preferred_db: false, add_link: false, highlight: false, use_class:\"\" },\r\n\t{ id: 'images', visiable: true, show_label: true, label: __('Thumbnail', 'themes-first'), display_label: __('Thumbnail', 'themes-first'), allowTodelete: false, type: \"AZIMG\", preferred_db: true, add_link: false, highlight: false, use_class:\"\" },\r\n\t{ id: 'title', visiable: true, show_label: true, label: __('Title', 'themes-first'), display_label: __('Product Name', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, use_class:\"\" },\r\n\t{ id: 'asin', visiable: false, show_label: true, label: __('ASIN', 'themes-first'), display_label: __('ASIN', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, use_class:\"\" },\r\n\t{ id: 'rating', visiable: true, show_label: true, label: __('Rating', 'themes-first'), display_label: __('Rating', 'themes-first'), allowTodelete: false, type: \"AZRTG\", preferred_db: true, add_link: false, highlight: false, use_class:\"\" },\r\n\t{ id: 'reviews', visiable: true, show_label: true, label: __('Reviews', 'themes-first'), display_label: __('Reviews', 'themes-first'), allowTodelete: false, type: \"NBR\", preferred_db: true, add_link: false, highlight: false, use_class:\"\" },\r\n\t{ id: 'manufacturer', visiable: true, show_label: true, label: __('Manufacturer', 'themes-first'), display_label: __('Manufacturer', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, use_class:\"\" },\r\n\t{ id: 'brand', visiable: true, show_label: true, label: __('Brand', 'themes-first'), display_label: __('Brand', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, use_class:\"\" },\r\n\t{ id: 'model', visiable: false, show_label: true, label: __('Model', 'themes-first'), display_label: __('Model', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, use_class:\"\" },\r\n\t{ id: 'product_group', visiable: false, show_label: true, label: __('Product Group', 'themes-first'), display_label: __('Group', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, use_class:\"\" },\r\n\t{ id: 'is_amazon_fulfilled', visiable: false, show_label: true, label: __('Amazon Fulfilled', 'themes-first'), display_label: __('Amazon Fulfilled', 'themes-first'), allowTodelete: false, type: \"IAF\", preferred_db: true, add_link: false, highlight: false, use_class:\"\" },\r\n\t{ id: 'is_prime_eligible', visiable: true, show_label: true, label: __('Prime Benefits', 'themes-first'), display_label: __('Prime Benefits', 'themes-first'), allowTodelete: false, type: \"IPE\", preferred_db: true, add_link: false, highlight: false, use_class:\"\" },\r\n\t{ id: 'display_price', visiable: true, show_label: true, label: __('Price', 'themes-first'), display_label: __('Price', 'themes-first'), allowTodelete: false, type: \"AZPRC\", preferred_db: false, add_link: false, highlight: false, use_class:\"\" },\r\n\t{ id: 'saving_amount', visiable: false,show_label: false, label: __('Saving', 'themes-first'), display_label: __('', 'themes-first'), allowTodelete: false, type: \"AZSVN\", preferred_db: false, add_link: false, highlight: false, use_class:\"\" },\r\n\t{ id: 'button', visiable: true, show_label: true, label: __('Button', 'themes-first'), display_label: __('View On Amazon', 'themes-first'), allowTodelete: false, type: \"AZBTN\", preferred_db: true, add_link: false, highlight: false, use_class:\"\" }\r\n]\r\n\r\nexport const FeaturesHorizontalDefaults = [\r\n\t{ id: 'productHighlighter', visiable: false, show_label: false, label: __('Highlighter', 'themes-first'), display_label: __('', 'themes-first'), allowTodelete: false, type: \"PDH\", preferred_db: false, add_link: false, highlight: false, width: '0%', use_class:\"\" },\r\n\t{ id: 'images', visiable: true, show_label: true, label: __('Thumbnail', 'themes-first'), display_label: __('Thumbnail', 'themes-first'), allowTodelete: false, type: \"AZIMG\", preferred_db: true, add_link: false, highlight: false, width: '20%', use_class:\"\" },\r\n\t{ id: 'title', visiable: true, show_label: true, label: __('Title', 'themes-first'), display_label: __('Product Name', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, width: 'auto', use_class:\"\" },\r\n\t{ id: 'asin', visiable: false, show_label: true, label: __('ASIN', 'themes-first'), display_label: __('ASIN', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, width: '15%', use_class:\"\" },\r\n\t{ id: 'display_price', visiable: true, show_label: true, label: __('Price', 'themes-first'), display_label: __('Price', 'themes-first'), allowTodelete: false, type: \"AZPRC\", preferred_db: false, add_link: false, highlight: false, width: '15%', use_class:\"\" },\r\n\t{ id: 'saving_amount', visiable: false, show_label: false, label: __('Saving', 'themes-first'), display_label: __('', 'themes-first'), allowTodelete: false, type: \"AZSVN\", preferred_db: false, add_link: false, highlight: false, width: '15%', use_class:\"\" },\r\n\t{ id: 'button', visiable: true, show_label: true, label: __('Button', 'themes-first'), display_label: __('View On Amazon', 'themes-first'), allowTodelete: false, type: \"AZBTN\", preferred_db: true, add_link: false, highlight: false, width: '15%', use_class:\"tf-amazon-link\" }\r\n]\r\n\r\nexport const ImageSizePx = [\r\n//\t{ value: 0, label: '0px'},\r\n\t{ value: 75, label: 'S'},\r\n\t{ value: 160, label: 'M'},\r\n\t{ value: 500, label: 'L'},\r\n//\t{ value: 1920, label: '1920px'}\r\n]\r\nexport const ImageSizePercent = [\r\n\t{ value: 0, label: '0%'},\r\n\t{ value: 25, label: '25%'},\r\n\t{ value: 50, label: '50%'},\r\n\t{ value: 75, label: '75%'},\r\n\t{ value: 100, label: '100%'}\r\n]\r\n\r\nexport const SLButtonStyle = [\r\n\t{value : '', label : __('Please Select', 'themes-first')},\r\n\t{value : 'tf-btn-amazon', label : __('Amazon', 'themes-first')},\r\n\t{value : 'tf-btn-rounded', label : __('Rounded', 'themes-first')},\r\n\t{value : 'tf-btn-3d', label : __('3D', 'themes-first')},\r\n\t{value : 'tf-btn-link', label : __('Link', 'themes-first')},\r\n]\r\n\r\nexport const SLSize = [\r\n\t{value : '', label : __('Please Select', 'themes-first')},\r\n\t{value : 'tf-size-small', label : __('Small', 'themes-first')},\r\n\t{value : 'tf-size-medium', label : __('Medium', 'themes-first')},\r\n\t{value : 'tf-size-big', label : __('Big', 'themes-first')},\r\n\t{value : 'tf-size-larg', label : __('Larg', 'themes-first')},      \r\n]\r\nexport const SLAlignment = [\r\n\t{value : '', label : __('Please Select', 'themes-first')},\r\n\t{value : 'tf-al-middle', label : __('Middle', 'themes-first')},   \r\n\t{value : 'tf-al-top', label : __('Top', 'themes-first')},   \r\n\t{value : 'tf-al-bottom', label : __('Bottom', 'themes-first')},   \r\n\t{value : 'tf-al-right', label : __('Right', 'themes-first')},   \r\n\t{value : 'tf-al-left', label : __('Left', 'themes-first')},   \r\n]\r\nexport const SLIconFonts = [\r\n\t'icofont-amazon', 'icofont-amazon-alt', 'icofont-brand-amazon', 'icofont-opencart',\r\n\t'icofont-shopping-cart','icofont-cart','icofont-cart-alt','icofont-ui-cart',\r\n\t'icofont-brand-ebay','icofont-google-wallet','icofont-google-wallet-alt-3','icofont-virtuemart',\r\n\t'icofont-brand-walmart'\r\n]\r\n\r\nexport const InnerBlockList = {\r\n\tAZIMG \t: 'themesfirst/ib-i2-azone-image',\r\n\tSLN\t\t: 'themesfirst/ib-i2-azone-text',\r\n\tAZRTG \t: 'themesfirst/ib-i2-azone-rating',\r\n\tAZBTN \t: 'themesfirst/ib-i2-azone-button',\r\n\tYRN \t: 'themesfirst/ib-i2-azone-yesno',\r\n\tAZPRC\t: 'themesfirst/ib-i2-azone-text',\r\n};\r\n\r\nexport const FontSizeList = [\r\n\t{\r\n\t\tname: __( 'Small' ),\r\n\t\tslug: 'small',\r\n\t\tsize: 12,\r\n\t},\r\n\t{\r\n\t\tname: __( 'Medium' ),\r\n\t\tslug: 'medium',\r\n\t\tsize: 18,\r\n\t},            \r\n\t{\r\n\t\tname: __( 'Larg' ),\r\n\t\tslug: 'larg',\r\n\t\tsize: 24,\r\n\t},            \r\n\t{\r\n\t\tname: __( 'Extra' ),\r\n\t\tslug: 'extra',\r\n\t\tsize: 36,\r\n\t}\r\n];\r\n\r\n\r\n// export const FeaturesHorizontalDefaults = {\r\n// \t'productHighlighter' : { visiable: false, label: __('Highlighter', 'themes-first'), display_label: __('', 'themes-first'), allowTodelete: false, type: \"PDH\", preferred_db: false, add_link: false, highlight: false, useWidth: true, width: '0%' },\r\n// \t'image' : { visiable: true, label: __('Thumbnail', 'themes-first'), display_label: __('Thumbnail', 'themes-first'), allowTodelete: false, type: \"AZIMG\", preferred_db: true, add_link: false, highlight: false, useWidth: true, width: '20%' },\r\n// \t'title' : { visiable: true, label: __('Title', 'themes-first'), display_label: __('Product Name', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, useWidth: true, width: 'auto' },\r\n// \t'display_price' : { visiable: true, label: __('Price', 'themes-first'), display_label: __('Price', 'themes-first'), allowTodelete: false, type: \"AZPRC\", preferred_db: false, add_link: false, highlight: false, useWidth: true, width: '15%' },\r\n// \t'saving_amount' : { visiable: false, label: __('Saving', 'themes-first'), display_label: __('', 'themes-first'), allowTodelete: false, type: \"AZSVN\", preferred_db: false, add_link: false, highlight: false, useWidth: true, width: '15%' },\r\n// \t'button' : { visiable: true, label: __('Link Text', 'themes-first'), display_label: __('View On Amazon', 'themes-first'), allowTodelete: false, type: \"AZBTN\", preferred_db: true, add_link: false, highlight: false, useWidth: true, width: '15%' }\r\n// }\r\n\r\n// export const FeaturesDefaults = {\r\n// \t'productHighlighter' : { visiable: false, label: __('Highlighter', 'themes-first'), display_label: __('', 'themes-first'), allowTodelete: false, type: \"PDH\", preferred_db: false, add_link: false, highlight: false, useWidth: false, width: '' },\r\n// \t'image':  {visiable: true, label: __('Thumbnail', 'themes-first'), display_label: __('Thumbnail', 'themes-first'), allowTodelete: false, type: \"AZIMG\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' },\r\n// \t'title' :  {visiable: true, label: __('Title', 'themes-first'), display_label: __('Product Name', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' },\r\n// \t'asin' :   {visiable: false, label: __('ASIN', 'themes-first'), display_label: __('ASIN', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' },\r\n// \t'rating' : {visiable: true, label: __('Rating', 'themes-first'), display_label: __('Rating', 'themes-first'), allowTodelete: false, type: \"AZRTG\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: ''},\r\n// \t'reviews' : {visiable: true, label: __('Reviews', 'themes-first'), display_label: __('Reviews', 'themes-first'), allowTodelete: false, type: \"NBR\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' },\r\n// \t'manufacturer' : {visiable: true, label: __('Manufacturer', 'themes-first'), display_label: __('Manufacturer', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' },\r\n// \t'brand' : {visiable: true, label: __('Brand', 'themes-first'), display_label: __('Brand', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' },\r\n// \t'model' : {visiable: false, label: __('Model', 'themes-first'), display_label: __('Model', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' },\r\n// \t'product_group' : {visiable: false, label: __('Product Group', 'themes-first'), display_label: __('Group', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' },\r\n// \t'is_amazon_fulfilled' : {visiable: false, label: __('Amazon Fulfilled', 'themes-first'), display_label: __('Amazon Fulfilled', 'themes-first'), allowTodelete: false, type: \"IAF\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' },\r\n// \t'is_prime_eligible' : {visiable: true, label: __('Prime Benefits', 'themes-first'), display_label: __('Prime Benefits', 'themes-first'), allowTodelete: false, type: \"IPE\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' },\r\n// \t'display_price' : {visiable: true, label: __('Price', 'themes-first'), display_label: __('Price', 'themes-first'), allowTodelete: false, type: \"AZPRC\", preferred_db: false, add_link: false, highlight: false, useWidth: false, width: '' },\r\n// \t'saving_amount' : {visiable: false, label: __('Saving', 'themes-first'), display_label: __('', 'themes-first'), allowTodelete: false, type: \"AZSVN\", preferred_db: false, add_link: false, highlight: false, useWidth: false, width: '' },\r\n// \t'button' : { visiable: true, label: __('Link Text', 'themes-first'), display_label: __('View On Amazon', 'themes-first'), allowTodelete: false, type: \"AZBTN\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' }\r\n// }\r\n\r\n\r\n// var users = [\r\n// \t{'productHighlighter' : { visiable: false, label: __('Highlighter', 'themes-first'), display_label: __('', 'themes-first'), allowTodelete: false, type: \"PDH\", preferred_db: false, add_link: false, highlight: false, useWidth: false, width: '' }},\r\n// \t{'image':  {visiable: true, label: __('Thumbnail', 'themes-first'), display_label: __('Thumbnail', 'themes-first'), allowTodelete: false, type: \"AZIMG\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' }},\r\n// \t{'title' :  {visiable: true, label: __('Title', 'themes-first'), display_label: __('Product Name', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' }},\r\n// \t{'asin' :   {visiable: false, label: __('ASIN', 'themes-first'), display_label: __('ASIN', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' }},\r\n// \t{'rating' : {visiable: true, label: __('Rating', 'themes-first'), display_label: __('Rating', 'themes-first'), allowTodelete: false, type: \"AZRTG\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: ''}},\r\n// \t{'reviews' : {visiable: true, label: __('Reviews', 'themes-first'), display_label: __('Reviews', 'themes-first'), allowTodelete: false, type: \"NBR\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' }},\r\n// \t{'manufacturer' : {visiable: true, label: __('Manufacturer', 'themes-first'), display_label: __('Manufacturer', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' }},\r\n// \t{'brand' : {visiable: true, label: __('Brand', 'themes-first'), display_label: __('Brand', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' }},\r\n// \t{'model' : {visiable: false, label: __('Model', 'themes-first'), display_label: __('Model', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' }},\r\n// \t{'product_group' : {visiable: false, label: __('Product Group', 'themes-first'), display_label: __('Group', 'themes-first'), allowTodelete: false, type: \"SLN\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' }},\r\n// \t{'is_amazon_fulfilled' : {visiable: false, label: __('Amazon Fulfilled', 'themes-first'), display_label: __('Amazon Fulfilled', 'themes-first'), allowTodelete: false, type: \"IAF\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' }},\r\n// \t{'is_prime_eligible' : {visiable: true, label: __('Prime Benefits', 'themes-first'), display_label: __('Prime Benefits', 'themes-first'), allowTodelete: false, type: \"IPE\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' }},\r\n// \t{'display_price' : {visiable: true, label: __('Price', 'themes-first'), display_label: __('Price', 'themes-first'), allowTodelete: false, type: \"AZPRC\", preferred_db: false, add_link: false, highlight: false, useWidth: false, width: '' }},\r\n// \t{'saving_amount' : {visiable: false, label: __('Saving', 'themes-first'), display_label: __('', 'themes-first'), allowTodelete: false, type: \"AZSVN\", preferred_db: false, add_link: false, highlight: false, useWidth: false, width: '' }},\r\n// \t{'button' : { visiable: true, label: __('Link Text', 'themes-first'), display_label: __('View On Amazon', 'themes-first'), allowTodelete: false, type: \"AZBTN\", preferred_db: true, add_link: false, highlight: false, useWidth: false, width: '' }}\r\n// ]\r\n","import { AmzonImg } from './common'\r\nimport classnames from 'classnames';\r\n\r\nconst { chunk } = lodash;\r\nconst { Flex, FlexItem,FlexBlock, Button, Modal, Spinner } = wp.components;\r\nconst { useState, useEffect } = wp.element;\r\nconst { __ } = wp.i18n;\r\nconst { apiFetch } = wp;\r\n\r\nexport const MdlImagePickerNew = ({ image, prodPos, updateImages, asin, size} = props) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [images, setImages] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      setLoading(true);\r\n      apiFetch({ path: \"/i2-azon/v1/images/\" + asin })\r\n        .then((data) => {\r\n          setImages(JSON.parse(data));\r\n          setLoading(false);\r\n        });\r\n    }\r\n  }, [open]);\r\n\r\n  return (<figure>\r\n    <figure style={{ position: \"relative\" }} >\r\n      <Button icon=\"images-alt2\" isPrimary size=\"24\" aria-label=\"remove\" onClick={() => setOpen(true)} style={{ position: \"absolute\", top: '15px', left: '15px' }}></Button>\r\n      {image && <AmzonImg imageUrl={image.URL} ext={image.EXT? image.EXT : \"jpg\"} size={size}></AmzonImg>}\r\n    </figure>\r\n    { open ?\r\n      <Modal open={open} title={__(\"Select Image\", 'themesfirst')} onRequestClose={obj => setOpen(false)} aria-labelledby=\"form-dialog-title\">\r\n        <div style={{ minHeight: '400px' }}>\r\n          {loading && <Flex justify=\"center\"><FlexBlock style={{minHeight:'100px', textAlign:'center'}}><Spinner /></FlexBlock></Flex>}\r\n          {images.length > 0 && chunk(images, 3).map((imgs) => {\r\n            return <Flex justify=\"center\">\r\n              {imgs.map((img) => <FlexItem style={{ maxWidth: '33%' }}>\r\n                <AmzonImg\r\n                  onClick={() => updateImages(prodPos, img)}\r\n                  className={ classnames('tf-mdl-image', {'tf-mdl-image-active': image && img.URL == image.URL })}\r\n                  imageUrl={img.URL} size=\"400\" \r\n\t\t\t\t\t\t\t\t\text={img.EXT? img.EXT : \"jpg\"}/>\r\n              </FlexItem>\r\n              )}\r\n            </Flex>\r\n          }\r\n          )}\r\n\r\n      </div>\r\n      </Modal> : null}\r\n  </figure>)\r\n}\r\n","const { Flex, FlexItem, FlexBlock, RangeControl, Button, ButtonGroup} = wp.components;\r\nconst { __ } = wp.i18n;\r\n\r\nexport const WidthSize = ({field, onChange} = props)=>{\r\n  \r\n    const {size, unit} = field;\r\n    const maxVal = () =>{\r\n        return unit == \"%\" ? 100 : 500;\r\n\t\t }\r\n\t\t const minVal = () =>{\r\n\t\t\treturn unit == \"%\" ? 5 : 50;\r\n\t }\r\n    return (\r\n        <>\r\n        <Flex>\r\n\t\t\t\t\t<FlexItem>{__('Width', 'themesfirst')}</FlexItem>\r\n\t\t\t\t\t<FlexBlock className=\"tf-text-align-end\">\r\n\t\t\t\t\t<ButtonGroup size=\"small\" aria-label=\"small outlined button group\" style={{marginLeft:\"auto\"}}>\r\n\t\t\t\t\t\t<Button onClick={()=> onChange({...field, unit : '%', size : 60 })} isPrimary={unit == \"%\"} isSmall>%</Button>\r\n\t\t\t\t\t\t<Button onClick={()=> onChange({...field, unit : 'px', size: 300})} isPrimary={unit != \"%\"} isSmall>px</Button>\r\n\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t</FlexBlock>\r\n        </Flex> \r\n\t\t\t\t<Flex>\r\n\t\t\t\t\t<FlexBlock>\r\n\t\t\t\t\t\t<RangeControl\r\n\t\t\t\t\t\tlabel={ size + unit} \r\n\t\t\t\t\t\twithInputField = {true}\r\n\t\t\t\t\t\tvalue={ size }\r\n\t\t\t\t\t\tonChange={ ( obj ) => onChange({...field, size  : obj})}\r\n\t\t\t\t\t\tmin={ minVal() }\t\r\n\t\t\t\t\t\tstep ={1}\t\t\t\r\n\t\t\t\t\t\tmax={maxVal()}  \r\n\t\t\t\t\t/>\r\n\t\t</FlexBlock>\r\n\t\t\t\t</Flex>\r\n      </>\r\n    );\r\n\r\n}","import { AmzonImgURL, MyBlockWrapper } from '../../component/common'\r\nimport { MZSearchDialog } from '../../component/azsearch/azsearch'\r\nimport {FontSizeList } from '../../component/data'\r\nimport { MdlImagePickerNew } from '../../component/MdlImagePicker'\r\nimport { WidthSize } from '../../component/fields/widthSize'\r\n\r\n\r\nconst { __ } = wp.i18n;\r\nconst { registerBlockType } = wp.blocks;\r\nconst { Button, FontSizePicker, TextControl, ToggleControl, PanelBody } = wp.components;\r\nconst { InspectorControls, MediaUpload, MediaUploadCheck, RichText, PanelColorSettings } = wp.blockEditor;\r\nconst { useEffect, useState } = wp.element\r\nconst { has} = lodash\r\n\r\nregisterBlockType('themesfirst/i2-azon-image', {\r\n    title: __('Image i2AZON', 'themesfirst'),\r\n    icon: 'format-image',\r\n    category: 'themesfirst',\r\n    keywords: [\r\n        __('Image', 'themesfirst'),\r\n        __('Amazon Image', 'themesfirst'),\r\n        __('i2 azon', 'themesfirst'),\r\n    ],\r\n    attributes: {\r\n        item_ids: {\r\n            type: 'array',\r\n            default: []\r\n        },\r\n        products: {\r\n            type: 'array',\r\n            default: []\r\n        },\r\n        block_id: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        link: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        alt_text: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        text: {\r\n            type: 'string',\r\n            default: __('CLICK HERE', 'themesfirst')\r\n        },\r\n        showText: {\r\n            type: 'boolean',\r\n            default: true\r\n        },\r\n        textOnTop: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        useBorder: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        borderColor: {\r\n            default: '#231f20'\r\n        },\r\n        paddingSize: {\r\n            type: 'string',\r\n        },\r\n        fontSize: {\r\n            type: 'number',\r\n            default: 18\r\n        },\r\n        color: {\r\n            default: '#ffffff'\r\n        },\r\n        bgColor: {\r\n            default: '#231f20'\r\n        },\r\n        useLink: {\r\n            type: 'boolean',\r\n            default: true\r\n        },\r\n        customLink: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        width: {\r\n            type: 'object',\r\n            default: {\r\n                size: 400,\r\n                unit: 'px',\r\n                full: 780\r\n            }\r\n        },\r\n    },\r\n    supports: {\r\n        align: true\r\n    },\r\n    edit: (props) => {\r\n        // console.log(\"==================================\");\r\n        //console.log(props);\r\n\r\n        const { attributes, clientId, attributes: { item_ids, width, block_id, useLink, customLink,alt_text, paddingSize, useBorder, borderColor, active_image_index, products, custom_img, link, text, color, bgColor, fontSize, showText, textOnTop }, setAttributes } = props;\r\n\r\n        if (block_id == '' || block_id == undefined) {\r\n            setAttributes({ block_id: clientId });\r\n        }\r\n\r\n        // const [colors, setColors] = useState([\r\n        //     {\r\n        //         value: bgColor,\r\n        //         onChange: (colorValue) => setAttributes({ bgColor: colorValue }),\r\n        //         label: __('Background Color', 'themesfirst'),\r\n        //     },\r\n        //     {\r\n        //         value: color,\r\n        //         onChange: (colorValue) => setAttributes({ color: colorValue }),\r\n        //         label: __('Text Color', 'themesfirst'),\r\n        //     }\r\n        // ]);\r\n\r\n        // useEffect(() => {\r\n\r\n        //     if (!useBorder && colors.length > 2) {\r\n\r\n        //         colors.pop();\r\n        //         setColors([...colors]);\r\n\r\n        //     } else if (useBorder && colors.length == 2) {\r\n\r\n        //         colors.push(\r\n        //             {\r\n        //                 value: borderColor,\r\n        //                 onChange: (colorValue) => setAttributes({ borderColor: colorValue }),\r\n        //                 label: __('Border Color', 'themesfirst')\r\n        //             }\r\n        //         );\r\n        //         setColors([...colors]);\r\n        //     }\r\n        // }\r\n        //     , [useBorder]);\r\n\r\n        const updateData = (obj) => {\r\n            if (has(obj, 'item_ids')) {\r\n                setAttributes(obj)\r\n            } else {\r\n                if (obj.products.length == 1) {\r\n                    setAttributes({ products: [{ asin: obj.products[0].asin, title:obj.products[0].title, image: obj.products[0].image }] });\r\n                    if(alt_text == ''){\r\n                        let text = obj.products[0].title;\r\n                        if(text.length > 70){\r\n                           let i = text.lastIndexOf(' ',70);\r\n                            text = text.substring(0, i);\r\n                        }\r\n                        setAttributes({alt_text : text});  \r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        const updateImages = (prodPos, image) => {\r\n\r\n            const obj = [...products];\r\n            obj[prodPos]['image'] = image;\r\n            setAttributes({ products: obj })\r\n\r\n        }\r\n        const updateCustomImage = (pos, val) => {\r\n            // console.log(pos)\r\n            // console.log(val)\r\n            const obj = [...products];\r\n            //console.log(obj[pos]);\r\n            //\tobj[pos]['mytest'] = val;\r\n\r\n            obj[pos]['custom_img'] = val;\r\n            //\tconsole.log(obj[pos]);\r\n            // obj[pos]['customImg'][\"mediaUrl\"] = val.mediaUrl;\r\n            setAttributes({ products: obj })\r\n        }\r\n        const removeCustomImage = (pos) => {\r\n            //     console.log(\"inside custom\");\r\n            if (has(products[pos], 'custom_img')) {\r\n                const obj = [...products];\r\n                delete obj[pos]['custom_img'];\r\n                setAttributes({ products: obj });\r\n            }\r\n        }\r\n        const logAttr = () => {\r\n            // const allImages = wp.apiFetch({ path: \"/i2-azon/v1/search/my keyworeds\" })\r\n            // .then((data)=>log(data));\r\n            //log(features.filter(x=>x.visiable).map(x=> x.id));\r\n            console.log(attributes);\r\n        }\r\n\r\n        const updateValue = (obj) => {\r\n            setAttributes(obj);\r\n        }\r\n\r\n        return (<>\r\n            <InspectorControls>\r\n                <PanelBody title={__(\"Common\", 'themesfirst')}\r\n                    initialOpen={true} >\r\n                    {/* <Button onClick={logAttr} > Log Attr </Button> */}\r\n                    <MZSearchDialog item_ids={item_ids} products={products} updateValue={updateData} isSingle={true} />\r\n                    <hr />\r\n                    {item_ids.length > 0 && <h4>{__('ASIN', 'themesfirst')} : {item_ids[0]} </h4>}\r\n                    <WidthSize field={width} onChange={obj => setAttributes({ width: obj })} />\r\n                    <hr />\r\n                    <ToggleControl label={__(\"Use Link?\", 'themesfirst')}\r\n                        checked={useLink}\r\n                        onChange={() => setAttributes({ useLink: !useLink })}\r\n                    />\r\n                    {useLink && <> <TextControl\r\n                        label={__(\"Alt Text\", 'themesfirst')}\r\n                        help={__(\"Image alt text\", 'themesfirst')}\r\n                        value={alt_text}\r\n                        onChange={(val) => setAttributes({ alt_text: val })}\r\n                    />\r\n                        <TextControl\r\n                            label={__(\"URL (By default amazon link)\", 'themesfirst')}\r\n                            help={__(\"Optional (custom url should start with http)\", 'themesfirst')}\r\n                            value={customLink}\r\n                            onChange={(val) => setAttributes({ customLink: val })}\r\n                        />\r\n                    </>\r\n                    }\r\n                    <ToggleControl\r\n                        label=\"Show Text?\"\r\n                        checked={showText}\r\n                        onChange={() => setAttributes({ showText: !showText })}\r\n                    />\r\n                    {showText && <ToggleControl\r\n                        label=\"Text On Top?\"\r\n                        help={textOnTop ? 'Text on top.' : 'Text on bottom'}\r\n                        checked={textOnTop}\r\n                        onChange={() => setAttributes({ textOnTop: !textOnTop })}\r\n                    />}\r\n                    <ToggleControl label={__(\"Use Border?\", 'themesfirst')}\r\n                        checked={useBorder}\r\n                        onChange={() => setAttributes({ useBorder: !useBorder })}\r\n                    />\r\n                </PanelBody>\r\n                <PanelBody title={__(\"Font Size\", 'themesfirst')}\r\n                    initialOpen={false} >\r\n                    <FontSizePicker\r\n                        fontSizes={FontSizeList}\r\n                        value={fontSize}\r\n                        fallbackFontSize={18}\r\n                        withSlider={true}\r\n                        onChange={(newFontSize) => {\r\n                            setAttributes({ fontSize: newFontSize ? newFontSize : 18 });\r\n                        }}\r\n                    />\r\n                </PanelBody>\r\n                <PanelColorSettings\r\n                    title={__('Color Settings', 'themesfirst')}\r\n                    initialOpen={false}\r\n                    colorSettings={useBorder ? [\r\n                        {\r\n                            value: bgColor,\r\n                            onChange: (colorValue) => setAttributes({ bgColor: colorValue !== undefined ? colorValue : '#231f20' }),\r\n                            label: __('Background Color', 'themesfirst'),\r\n                        },\r\n                        {\r\n                            value: color,\r\n                            onChange: (colorValue) => setAttributes({ color: colorValue !== undefined ? colorValue : '#ffffff' }),\r\n                            label: __('Text Color', 'themesfirst'),\r\n                        },\r\n                        {\r\n                            value: borderColor,\r\n                            onChange: (colorValue) => setAttributes({ borderColor: colorValue !== undefined ? colorValue : '#231f20' }),\r\n                            label: __('Border Color', 'themesfirst')\r\n                        }\r\n                    ] : [\r\n                            {\r\n                                value: bgColor,\r\n                                onChange: (colorValue) => setAttributes({ bgColor: colorValue !== undefined ? colorValue : '#231f20' }),\r\n                                label: __('Background Color', 'themesfirst'),\r\n                            },\r\n                            {\r\n                                value: color,\r\n                                onChange: (colorValue) => setAttributes({ color: colorValue !== undefined ? colorValue : '#ffffff' }),\r\n                                label: __('Text Color', 'themesfirst'),\r\n                            }\r\n                        ]}\r\n                >\r\n                </PanelColorSettings>\r\n            </InspectorControls>\r\n\r\n            <figure className=\"tf-i2 tf-i2-azon-image mywp-block-image\" style={{ position: \"relative\", width: width.unit == '%a' ? \"100%\" : width.size + width.unit }}>\r\n                <div className=\"components-resizable-box__container has-show-handle\" style={{ \"position\": \"relative\", \"boxSizing\": \"border-box\", \"width\": \"100%\" }}>\r\n                    {products.length == 0 && <MZSearchDialog item_ids={item_ids} products={products} updateValue={updateData} isSingle={true} />}\r\n                    {products.map((prod, j) => {\r\n                        return (<div className={(useBorder ? \"has-border \" : \"\") + \"tf-amz-image-wrapper\"} style={{ flexDirection: textOnTop ? \"column-reverse\" : \"column\", borderColor: borderColor }}>\r\n                            {!has(prod, 'custom_img.mediaId') && (\r\n                                <MdlImagePickerNew image={prod['image']} asin={prod['asin']} prodPos={j} updateImages={updateImages} size={width.unit != 'px' ? null : width.size} />)}\r\n                            <div className={prod['custom_img'] == undefined || prod['custom_img'] == \"\" ? \"no-custom-image\" : \"editor-post-featured-image\"}>\r\n                                {prod['custom_img'] != undefined && <img src={prod['custom_img'].mediaUrl} />}\r\n                                <MediaUploadCheck>\r\n                                    <MediaUpload onSelect={obj => updateCustomImage(j, { mediaId: obj.id, mediaUrl: obj.url })}\r\n                                        value={prod['custom_img'] != undefined && prod['custom_img'] != \"\" ? prod['custom_img'].mediaId : \"\"}\r\n                                        allowedTypes={['image']}\r\n                                        render={({ open }) => (\r\n                                            <Button icon=\"wordpress\" isSecondary size=\"24\" className=\"no-custom-image\" onClick={open}>\r\n                                            </Button>\r\n                                        )}\r\n                                    />\r\n                                </MediaUploadCheck>\r\n                                {has(prod, 'custom_img.mediaId') && <Button icon=\"trash\" className=\"clear-custom-image\" iconSize=\"24\" label=\"Delete\" onClick={() => removeCustomImage(j)}></Button>}\r\n                            </div>\r\n                            {showText && <div style={{ clear: 'both', marginTop: '0', backgroundColor: bgColor, color: color, textAlign: 'center' }}>\r\n                                <RichText onChange={obj => setAttributes({ text: obj })}\r\n                                    tagName=\"p\"\r\n                                    value={text}\r\n                                    style={{ margin: 0, fontSize: fontSize + \"px\", lineHeight: (fontSize * 2) + \"px\" }}\r\n                                />\r\n                            </div>}\r\n                        </div>)\r\n                    })}\r\n                </div>\r\n            </figure>\r\n        </>\r\n        )\r\n    },\r\n    save: (props) => {\r\n        const { attributes: { block_id, width, useLink,alt_text, text, bgColor, color, fontSize, useBorder, products, textOnTop, showText, borderColor }} = props;\r\n        // console.log(props);\r\n        return (products && products.length > 0 && <MyBlockWrapper isLink={useLink} elm=\"div\" id={`tf-block-image-${block_id}`} className={`tf-block-${block_id} tf-amz-image-block-wrapper`} href=\"##AFFILIATELINK##\" target=\"_blank\" rel=\"nofollow noopener noreferrer\" style={{ width: width.size + width.unit}}>\r\n            <div className={(useBorder ? \"has-border \" : \"\") + \"tf-amz-image-wrapper\"} style={{ flexDirection: textOnTop ? \"column-reverse\" : \"column\", borderColor: borderColor }}>\r\n                <div className=\"tf-featured-media\">\r\n                    {products.length == 1 && !has(products[0], 'custom_img.mediaId') && <img src={AmzonImgURL(products[0]['image'].URL, width.unit == \"px\" && width.size <= products[0]['image'].Width ? width.size : \"\", products[0]['image'].EXT)} alt={alt_text}  height={products[0]['image'].Height} width={products[0]['image'].Width} />}{products.length == 1 && has(products[0], 'custom_img.mediaId') && <img src={products[0]['custom_img']['mediaUrl']} alt={alt_text} />}</div>\r\n                {showText && <div style={{ clear: 'both', marginTop: '0', backgroundColor: bgColor, textAlign: 'center' }}>\r\n                    <p style={{ margin: 0, fontSize: fontSize + \"px\", color: color, lineHeight: (fontSize * 2) + \"px\" }}>{text}</p>\r\n                </div>}\r\n            </div>\r\n        </MyBlockWrapper>)\r\n    }\r\n});\r\n","const {isArray, map} = lodash\r\nconst {RangeControl,Flex,ButtonGroup,Button} = wp.components;\r\n\r\nexport const UnitSize = ({field, max, min, label, units, onChange} = props)=>{\r\n  \r\n    const {val, unit} = field;\r\n    // const maxVal = () =>{\r\n    //     return unit == \"%\" ? 100 : 500;\r\n    //  }\r\n    //   const valuetext = (value) => {\r\n    //     return `${value}` + unit;\r\n    //   }\r\n    return (\r\n        <>\r\n\r\n          <Flex style={{marginTop: '8px', marginBottom: '8px'}}>  \r\n              <div>{label}</div>\r\n              <ButtonGroup>\r\n                  {units && isArray(units) && map(units, function(item){\r\n                     return <Button isSmall isPrimary={unit == item} onClick={()=> onChange({...field, unit : item })}>{item}</Button>\r\n                  }) }\r\n            </ButtonGroup>                               \r\n            </Flex>\r\n        <RangeControl                      \r\n                     //   label=\"Radious\"\r\n                        value={ val }\r\n                        onChange={ ( val ) => onChange({...field, val : val}) }\r\n                        min={ min }\r\n                        max={ max }\r\n                    />             \r\n      </>\r\n    );\r\n\r\n}","import { AmzonImgURL,PrepareInlineStyle,CleanText,MyBlockWrapper } from '../../component/common'\r\nimport {MZSearchDialog} from '../../component/azsearch/azsearch'\r\nimport{UnitSize} from '../../component/fields/unitSize'\r\nimport {MdlImagePickerNew} from '../../component/MdlImagePicker'\r\nimport classnames from 'classnames';\r\n\r\n\r\nconst { __ } = wp.i18n;\r\nconst { registerBlockType } = wp.blocks;\r\nvar el = wp.element.createElement;\r\nconst {Button,ButtonGroup,Dashicon, Flex, FlexItem, FlexBlock,RangeControl , TextControl, ToggleControl, CheckboxControl,  PanelBody } = wp.components;\r\nconst { InspectorControls, MediaUpload, MediaUploadCheck, RichText,PanelColorSettings } = wp.blockEditor;\r\nconst {Fragment} = wp.element\r\nconst { has} = lodash\r\n\r\nregisterBlockType('themesfirst/i2-azon-product-box', {\r\n    title: __('Product Box i2AZON', 'themesfirst'),\r\n    icon: 'embed-photo',\r\n    category: 'themesfirst',\r\n    keywords: [\r\n        __('Product Box', 'themesfirst'),\r\n        __('Amazon Product Box', 'themesfirst'),\r\n        __('i2 azon', 'themesfirst'),\r\n    ],\r\n    attributes: {\r\n        item_ids: {\r\n            type: 'array',\r\n            default: []\r\n        },\r\n        products: {\r\n            type: 'array',\r\n            default: []\r\n        },\r\n        block_id:{\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        useBorder : { \r\n            type : 'boolean',\r\n            default: false\r\n        },\r\n        borderColor : {\r\n            type: 'string',\r\n            default: '#231f20'\r\n        },\r\n        paddingSize: {\r\n            type: 'string',\r\n        },\r\n        fontSize:{\r\n            type: 'number',\r\n             default: 18\r\n        },\r\n        color : {\r\n            type: 'string',\r\n            default: '#222222'\r\n\t\t\t\t},\r\n\t\t\t\ttextColor : {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tdefault: '#222222'\r\n\t\t\t\t},\r\n        bgColor : {\r\n            type: 'string',\r\n            default: '#fff'\r\n        },\r\n        useLink:{\r\n            type: 'boolean',\r\n            default: true\r\n\t\t\t\t},\r\n\t\t\t\thideButton:{\r\n\t\t\t\t\ttype: 'boolean',\r\n\t\t\t\t\tdefault: false\r\n\t\t\t},\r\n        customLink:{\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        btnText: {\r\n            type: 'string',\r\n            default : __('View On Amazon', 'themesfirst'),\r\n        },\r\n        \r\n        boxBorder : { \r\n            type : 'object',\r\n            default: {\r\n                    use : true,\r\n                    color: '#222222',\r\n                    size: {  \r\n                            unit: 'px',\r\n                            val : 1\r\n                    },\r\n                    useRadius : true,\r\n                    radius: {\r\n                            unit: 'px',\r\n                            val : 4\r\n                    }\r\n            }\r\n        },  \r\n        btnBorder : { \r\n            type : 'object',\r\n            default: {\r\n                use : true,\r\n                color: '#222222',\r\n                size: {  \r\n                    unit: 'px',\r\n                    val : 1\r\n                },\r\n                useRadius : true,\r\n                radius: {\r\n                    unit: 'px',\r\n                    val : 4\r\n                }\r\n            }\r\n        },        \r\n        icon :{\r\n            type : 'object',\r\n            default: {\r\n                cssClass : 'icofont-brand-amazon',\r\n                size: 'icofont-md',\r\n                color: '',\r\n                bgColor: 'transprent'\r\n                }\r\n         },\r\n         imgWrapperWidth: {\r\n             type: 'number',\r\n            default: 25\r\n         },\r\n         imgWidth: {\r\n            type: 'number',\r\n           default: 300\r\n        },\r\n        width:{\r\n            type : 'object',\r\n            default :{\r\n                size: 400,\r\n                unit: 'px',\r\n                full : 780\r\n            }\r\n          },\r\n        isHorizontal: {\r\n            type: 'boolean',\r\n            default: false\r\n          },  \r\n    },\r\n    edit: (props) => {\r\n        // console.log(\"==================================\");\r\n       //  console.log(props);\r\n\r\n        const { attributes,clientId, attributes: {item_ids,width,imgWidth,imgWrapperWidth,hideButton,isHorizontal,btnBorder,textColor, boxBorder, block_id,icon,btnText, useLink,customLink, paddingSize,useBorder,borderColor, products,custom_img, link, text, color, bgColor}, setAttributes } = props;\r\n\r\n        if(block_id == '' || block_id == undefined){\r\n\t\t\t\t\tsetAttributes({block_id : clientId});\r\n        }\r\n\t\t\t\t\r\n        const updateData = (obj) => {\r\n           // console.log(obj);\r\n           if(has(obj, 'item_ids')){\r\n\t\t\t\tsetAttributes(obj)\r\n           }else{\r\n\r\n            if(obj.products.length == 1){\r\n              //  const features = JSON.parse(obj.products[0].features).map(x => '<li>' + CleanText(x) +'</li>' );\r\n                const features = JSON.parse(obj.products[0].features).map(x => CleanText(x));\r\n               // const feature = JSON.parse(obj.products[0].features).join(\"</li><li>\");\r\n                // console.log('=========================');\r\n                // console.log(features);\r\n                // console.log('=========================');\r\n                setAttributes({products : [\r\n                    {\r\n                     asin : obj.products[0].asin,\r\n                     title : obj.products[0].title, \r\n                     description : '',\r\n                     features : '<li>' + features.join(\"</li><li>\") + '</li>',                     \r\n                   //  features :  features,                     \r\n                   //dbFeatures : JSON.parse(obj.products[0].features),\r\n                     dbFeatures : features,\r\n                     image : obj.products[0].image\r\n                }]});\r\n            }\r\n           }\r\n\t\t}\r\n\t\t\t\t\r\n\r\n\t\tconst updateImages = (prodPos, image) => {\r\n\r\n        const obj = [... products];\r\n\t\t\tobj[prodPos]['image'] = image;\r\n\t\t\tsetAttributes({ products: obj })\r\n\r\n\t\t}\r\n\t\tconst updateCustomImage = (pos, val) => {\r\n\t\t\t// console.log(pos)\r\n\t\t\t// console.log(val)\r\n\t\t\tconst obj = [... products];\r\n\t\t//console.log(obj[pos]);\r\n\t//\tobj[pos]['mytest'] = val;\r\n\r\n\t\tobj[pos]['custom_img']= val;\r\n\t//\tconsole.log(obj[pos]);\r\n\t\t// obj[pos]['customImg'][\"mediaUrl\"] = val.mediaUrl;\r\n\t\tsetAttributes({ products: obj })\r\n\t}\r\n\tconst removeCustomImage = (pos)=> {\r\n   //     console.log(\"inside custom\");\r\n\t\tif(has( products[pos], 'custom_img')){\r\n\t\t\tconst obj = [... products];\r\n\t\t\tdelete obj[pos]['custom_img'];\r\n\t\t\tsetAttributes({ products: obj });\r\n\t\t}\r\n\t}\r\n\t\tconst logAttr = () => {\r\n\t\t\t// const allImages = wp.apiFetch({ path: \"/i2-azon/v1/search/my keyworeds\" })\r\n\t\t\t// .then((data)=>log(data));\r\n\t\t\t//log(features.filter(x=>x.visiable).map(x=> x.id));\r\n\t\t\tconsole.log(attributes);\r\n        }\r\n\t\t\t\t\r\n\t\t\t\tconst updateValue = (obj) => {\r\n\t\t\t\t\tsetAttributes(obj);\r\n            }\r\n\t\t\t\t\t\t\r\n            const updateProduct = (content, pos, prop, propPos) => {\r\n                    const obj = [... products];\r\n                    if(propPos >= 0){\r\n                    //   console.log('inside featues', propPos );\r\n                    obj[pos][prop][propPos]= content; \r\n                    }else{\r\n                      //  console.log('inside nor', propPos );\r\n                        obj[pos][prop]= content; \r\n                    }\r\n                    setAttributes({ products: obj });\r\n            }\r\n\r\n            // const updateFeatureCount = (val) => {\r\n            //     console.log(val);\r\n            //     if(products && products.length > 0){\r\n            //         const obj = [... products];\r\n            //         if(obj[0].features?.length < val){\r\n            //             for(var i = obj[0].features.length; i < val; i++){\r\n            //                 obj[0].features[i] = obj[0].dbFeatures?.length >= i ? obj[0].dbFeatures[i] :  ''; \r\n            //             }\r\n            //         }else if(obj[0].features?.length > val){\r\n            //             obj[0].features = obj[0].features.slice(0, val);\r\n            //         }\r\n            //         setAttributes({ products: obj });\r\n            //     }\r\n            // }\r\n\r\n            const resetFeatures=() =>{\r\n                if(products && products.length > 0){\r\n                 const obj = [... products];\r\n                // const features = obj[0].dbFeatures.map(x => CleanText(x) );\r\n                // const feature = obj[0].dbFeatures.map(x => '<li>' + x +'</li>' );\r\n              //   obj[0]['features'] = [... obj[0].dbFeatures];\r\n             // obj[0]['features'] = '<li>' + feature +'</li>';\r\n                obj[0]['features'] = '<li>' + obj[0].dbFeatures.join(\"</li><li>\") + '</li>';\r\n\r\n                // console.log(obj);\r\n\r\n                 setAttributes({ products: obj });\r\n                }\r\n            }\r\n\r\n \t\treturn (<>\r\n            <InspectorControls>\r\n            <PanelBody title = { __(\"Common\", 'themesfirst') }\r\n            initialOpen = { true } >\r\n            {/* <Button onClick = { logAttr } > Log Attr </Button> */}\r\n            <MZSearchDialog item_ids = {item_ids} products = {products} updateValue ={updateData} isSingle={true} />\r\n\t\t\t<hr /> \r\n\t\t\t{item_ids.length > 0 &&\t<h4>{__('ASIN', 'themesfirst')} : {item_ids[0]} </h4>}\r\n            {products && products.length > 0 && \r\n            \t\t\t\t<Flex>\r\n                            <FlexBlock>Features\r\n                    \t\t</FlexBlock>\r\n                            <FlexItem style={{alignSelf: 'flex-end'}}>\r\n                            <Button style={{marginBottom: '12px', height: '30px' }} isSecondary onClick = {()=> resetFeatures()} > {__('Reset', 'themesfirst') + ' (' + products[0].dbFeatures?.length + ')'} </Button> \r\n                            </FlexItem>\r\n\t\t\t\t</Flex>\r\n                    }\r\n                <hr />  \r\n                    <ButtonGroup style={{textAlign:'right', width: '100%', marginBottom: '10px'}}>\r\n                    <Button isPrimary={isHorizontal} isSmall isSecondary={!isHorizontal} onClick={()=>setAttributes({isHorizontal : true})}><Dashicon icon=\"menu-alt\" /> &nbsp; {__('Horizontal', 'themesfirst')}</Button>\r\n                    <Button  isPrimary={!isHorizontal} isSmall isSecondary={isHorizontal} onClick={()=>setAttributes({isHorizontal : false})}><Dashicon icon=\"columns\" /> &nbsp; {__('Verticle', 'themesfirst')}</Button>\r\n                    </ButtonGroup>\r\n                    {isHorizontal && <RangeControl\r\n\t\t\t\t\t\tlabel={  'Image Width (' + imgWidth + 'px)' } \r\n                        withInputField = {true}\r\n                        allowReset = {false}\r\n\t\t\t\t\t\tvalue={ imgWidth }\r\n\t\t\t\t\t\tonChange={ ( obj ) => setAttributes( { imgWidth: obj})}\r\n\t\t\t\t\t\tmin={100}\t\r\n\t\t\t\t\t\tstep ={10}\t\t\t\r\n\t\t\t\t\t\tmax={products[0]?.image?.Width > 200? products[0]?.image?.Width : 500}  \r\n\t\t\t\t\t/>}\r\n                    {!isHorizontal && <RangeControl\r\n\t\t\t\t\t\tlabel={  'Image Area (' + imgWrapperWidth + '%)' } \r\n                        withInputField = {true}\r\n                        allowReset = {false}\r\n\t\t\t\t\t\tvalue={ imgWrapperWidth }\r\n\t\t\t\t\t\tonChange={ ( obj ) => setAttributes( { imgWrapperWidth: obj})}\r\n\t\t\t\t\t\tmin={15}\t\r\n\t\t\t\t\t\tstep ={1}\t\t\t\r\n\t\t\t\t\t\tmax={50}  \r\n\t\t\t\t\t/>}\r\n                    \r\n            <hr />    \r\n            <ToggleControl  label= {__(\"Without Links?\", 'themesfirst')}\r\n                                            checked={ !useLink }\r\n                                            onChange={ () => setAttributes({ useLink: ! useLink } )}\r\n                                            />  \r\n                            {useLink && <TextControl\r\n                                            label={__(\"URL (By default amazon link)\", 'themesfirst')}\r\n                                            help ={__(\"Optional (custom url should start with http)\", 'themesfirst')}\r\n                                            value={ customLink }\r\n                                            onChange={ (val) => setAttributes( { customLink: val})}\r\n                                        />}    \r\n\t\t\t\t\t\t{useLink && <ToggleControl  label= {__(\"Hide Button?\", 'themesfirst')}\r\n                                            checked={ hideButton }\r\n                                            onChange={ () => setAttributes({ hideButton: ! hideButton } )}\r\n                                            />}  \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        \r\n            </PanelBody>\r\n\t\t\t\t\t\t<PanelBody title = { __(\"Border Setting\") } initialOpen = { false } >\r\n\t\t\t\t\t\t\t\t\t<CheckboxControl\r\n                        label=\"Use Box Border?\"\r\n                        help=\"if you want to use border\"\r\n                        checked={ boxBorder.use }\r\n                        onChange={ (val) => setAttributes( {boxBorder : { ...boxBorder, use: val}})}\r\n                    />\r\n                  {boxBorder.use &&  <Fragment>   \r\n\t\t\t\t\t\t\t\t\t\t<UnitSize field={boxBorder.size} min={0} max={20} label=\"Size\" units={['px']} onChange={(val)=>setAttributes({boxBorder : { ...boxBorder, size: val}})} /> \r\n                    <CheckboxControl\r\n                        label=\"Use Custom Radius?\"\r\n                        help=\"if you want to use custom radius\"\r\n                        checked={ boxBorder.useRadius }\r\n                        onChange={ (val) => setAttributes( {boxBorder : { ...boxBorder, useRadius : val}})}\r\n                    />                                      \r\n                    {boxBorder.useRadius && <UnitSize field={boxBorder.radius} min={0} max={50} label=\"Radius\" units={['%', 'px']} onChange={(val)=>setAttributes({boxBorder : { ...boxBorder, radius: val}})} />}                                   \r\n                    </Fragment>}\r\n                    </PanelBody> \r\n\r\n            {/* <PanelBody title = { __(\"Font Size\", 'themesfirst') }\r\n            initialOpen = { false } >\r\n           <FontSizePicker\r\n            fontSizes={ FontSizeList }\r\n            value={ fontSize }\r\n            fallbackFontSize={ 18 }\r\n            withSlider = {true}\r\n            onChange={ ( newFontSize ) => {\r\n                setAttributes( { fontSize: newFontSize? newFontSize : 18 } );\r\n            } }\r\n            />\r\n            </PanelBody> */}\r\n            <PanelColorSettings\r\n                    title={ __( 'Color Settings' , 'themesfirst') }\r\n                    initialOpen = { false }\r\n\t\t\t\t\t\t\t\t\t // colorSettings={colors}\r\n\t\t\t\t\t\t\t\t\t colorSettings = { boxBorder.use? [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: bgColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange: ( colorValue ) => setAttributes( { bgColor: colorValue !== undefined ? colorValue : '#fff' } ),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: __( 'Background Color' ,'themesfirst'),\r\n\t\t\t\t\t\t\t\t\t\t\t},\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: color,\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange: ( colorValue ) => setAttributes( { color: colorValue !== undefined ? colorValue : '#222222' } ),\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: __( 'Heading Color','themesfirst' ),\r\n\t\t\t\t\t\t\t\t\t\t\t},\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: textColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange: ( colorValue ) => setAttributes( { textColor: colorValue !== undefined ? colorValue : '#222222' } ),\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: __( 'Text Color','themesfirst' ),\r\n\t\t\t\t\t\t\t\t\t\t\t}\t,\r\n\t\t\t\t\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: boxBorder.color,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange: ( colorValue ) => setAttributes( { boxBorder : { ...boxBorder, color: colorValue !== undefined ? colorValue : '#222222'}} ),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: __( 'Border Color','themesfirst' ),\r\n\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t] : [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: bgColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange: ( colorValue ) => setAttributes( { bgColor: colorValue !== undefined ? colorValue : '#fff' } ),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: __( 'Background Color' ,'themesfirst'),\r\n\t\t\t\t\t\t\t\t\t\t\t},\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: color,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange: ( colorValue ) => setAttributes( { color: colorValue !== undefined ? colorValue : '#222222' } ),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: __( 'Heading Color','themesfirst' ),\r\n\t\t\t\t\t\t\t\t\t\t\t},\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: textColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange: ( colorValue ) => setAttributes( { textColor: colorValue !== undefined ? colorValue : '#222222' } ),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: __( 'Text Color','themesfirst' ),\r\n\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n                >\r\n        </PanelColorSettings>\r\n            </InspectorControls>\r\n\r\n            <figure className=\"tf-i2\">\r\n                 {products.length == 0 && <MZSearchDialog item_ids = {item_ids} products = {products} updateValue ={updateData} isSingle={true} />}\r\n                {products.map((prod, j) => {return(\r\n\t\t\t\t  <div className={classnames({\"has-border\" : useBorder}, \"tf-i2-product\", {\"tf-i2-horizontal\" : isHorizontal})} style = {PrepareInlineStyle({border: boxBorder, bgColor : bgColor})}>\r\n\t\t\t\t\t<div className={\"tf-i2-image\"} style={{width: isHorizontal? '100%' : imgWrapperWidth + \"%\"}}>\r\n                    {!has(prod, 'custom_img.mediaId') && (\r\n\t\t\t\t\t <MdlImagePickerNew image={prod['image']} asin={prod['asin']}  prodPos={j} updateImages = { updateImages } size={isHorizontal? imgWidth : width.unit != 'px' ? null : width.size} />)}\r\n                    <div className={prod['custom_img'] == undefined || prod['custom_img'] == \"\"? \"no-custom-image\" : \"editor-post-featured-image\"}>\r\n                    {prod['custom_img'] != undefined &&  <img src={prod['custom_img'].mediaUrl} />}                        \r\n                    <MediaUploadCheck>\r\n                        <MediaUpload onSelect={obj=> updateCustomImage(j, {mediaId : obj.id, mediaUrl : obj.url})}\r\n                            value={prod['custom_img'] != undefined && prod['custom_img'] != \"\"? prod['custom_img'].mediaId : \"\"}\r\n                            allowedTypes={ ['image'] }\r\n                            render={({open}) => (\r\n                                <Button icon=\"wordpress\" isSecondary size=\"24\" className=\"no-custom-image\" onClick={open}>                                    \r\n                                </Button>\r\n                            )}\r\n                        />\r\n                    </MediaUploadCheck>\r\n                    {has(prod, 'custom_img.mediaId') && <Button icon=\"trash\" className=\"clear-custom-image\" iconSize=\"24\" label =\"Delete\" onClick = {() => removeCustomImage(j)}></Button>}\r\n                  </div>\r\n\t\t\t\t</div>\r\n                \t<div className=\"tf-i2-content\" style={{width: isHorizontal? '100%' : (100 - imgWrapperWidth) + \"%\"}}>\r\n\t\t\t\t\t <RichText onChange={obj=>updateProduct(obj,j, 'title', -1)}\r\n                            tagName=\"h5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"tf-i2-title\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{color: color}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={prod.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tformattingControls={['italic']}\r\n                            />\r\n                            <RichText onChange={obj=>updateProduct(obj, j , 'features', -1)}\r\n                            tagName=\"ul\"\r\n                            multiline= 'li'\r\n                            className=\"tf-i2-features\"\r\n                            value={prod.features}\r\n                            style={{margin: 0, color: textColor}}\r\n                            />\r\n                   {useLink && !hideButton && <span className={ classnames('tf-btn-wrapper', 'tf-btn', { \"tf-button-has-border\" : btnBorder.use})}  style = {PrepareInlineStyle({border: btnBorder})}><i className={classnames(icon?.cssClass)}></i>           \r\n                   <RichText onChange={obj=>setAttributes({btnText:obj})}\r\n                    formattingControls={ [ 'bold', 'italic' ] }\r\n                    tagName=\"span\"\r\n                    value={btnText}\r\n                    />\r\n                    </span>}\r\n\t\t\t\t\t</div>\r\n\r\n                </div>                \r\n                )})}             \r\n               </figure>\r\n            </>\r\n        )\r\n    },\r\n    save: (props) => {\r\n        const { attributes: {item_ids,width,btnBorder,boxBorder,useBorder,hideButton, block_id,icon,btnText,imgWrapperWidth,imgWidth, useLink, products,textColor, color, bgColor, isHorizontal}} = props;\r\n        const prod = products[0];\r\n\t\t\t\treturn (prod &&\r\n            <div className=\"tf-i2\" id={block_id}>\r\n\t\t\t\t\t\t\t\r\n                <div className={classnames({\"has-border\" : useBorder}, \"tf-i2-product\", {\"tf-i2-horizontal\" : isHorizontal})} style={PrepareInlineStyle({border:boxBorder, bgColor: bgColor })}>\r\n                <div className={\"tf-i2-image\"} style={{width: isHorizontal? '100%' : imgWrapperWidth + \"%\", minHeight: isHorizontal && prod['image'].Height > 0 && prod['image'].Width > 0 ? ( prod['image'].Height / prod['image'].Width * imgWidth) + \"px\"   : 'auto' }}>\r\n\t\t\t\t\t\t\t\t<MyBlockWrapper isLink={useLink} href=\"##AFFILIATELINK##\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t{!has(prod, 'custom_img.mediaId') &&\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<img src={AmzonImgURL(prod['image'].URL, (isHorizontal? imgWidth : width.unit == \"px\" && width.size <= prod['image'].Width? width.size : \"\"),  prod['image'].EXT)} alt={prod.title} height={prod['image'].Height} width={prod['image'].Width} />\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{has(prod, 'custom_img.mediaId') &&<img src={prod['custom_img']['mediaUrl']}  alt={prod.title}/>}\r\n\t\t\t\t\t\t\t\t</MyBlockWrapper>\r\n                </div>\r\n                <div className=\"tf-i2-content\" style={{width: isHorizontal? '100%' : (100 - imgWrapperWidth) + \"%\"}}>\t\t\t\t\t\t\t\t\r\n                    <RichText.Content href=\"##AFFILIATELINK##\" style={{color:color}} target = \"_blank\" className=\"tf-i2-title\" tagName={useLink ? \"a\" : \"span\"} value={prod.title} rel = \"nofollow noopener noreferrer\" />\r\n                    <RichText.Content tagName=\"ul\" value={prod.features} style={{color: textColor}} className=\"tf-i2-features\" />\r\n                    {useLink && !hideButton && <a \r\n                     href=\"##AFFILIATELINK##\" target = \"_blank\" rel = \"nofollow noopener noreferrer\"\r\n                    className={ classnames('tf-btn-wrapper', 'tf-btn', { \"tf-button-has-border\" : btnBorder.use})} \r\n                     style = {PrepareInlineStyle({border: btnBorder})}>\r\n                         <i className={classnames(icon?.cssClass)}></i>  {btnText}         \r\n                    </a>}\r\n                </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n});\r\n"],"sourceRoot":""}